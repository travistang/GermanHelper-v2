{"version":3,"sources":["pages/BottomNavigation/TabButton.js","pages/BottomNavigation/index.js","pages/OfflineBanner/index.js","theme.js","components/Highlight/index.js","components/CenterNotice/index.js","reducers/bookmark.js","backend/withBookmarks.js","backend/constants.js","pages/SearchPage/SearchGroup/SuggestionsContainer.js","backend/wiktionary.js","reducers/search.js","reducers/config.js","pages/SearchPage/SearchGroup/SearchBar.js","backend/hoc.js","backend/withOffline.js","pages/SearchPage/SearchGroup/index.js","components/CounterBadge/index.js","components/ShortWordCard/index.js","components/separator.js","backend/withSnackbar/index.js","pages/SearchPage/index.js","backend/withCamera/index.js","backend/withCircularProgress/index.js","pages/TopNavigation/index.js","pages/SearchResultPage/index.js","backend/withExerciseMask/index.js","components/ActionSheetComponent/index.js","pages/WordDetails/GrammarSection.js","pages/WordDetails/index.js","backend/withActionSheet/index.js","pages/BookmarkPage/index.js","pages/EditBookmarkPage/AddMeaningComponent.js","pages/EditBookmarkPage/EditMeaningList.js","pages/EditBookmarkPage/index.js","pages/OCRSelectWordPage/PhotoWithBoxes.js","pages/OCRSelectWordPage/OCRSuggestions/index.js","pages/OCRSelectWordPage/index.js","pages/ConfigPage/index.js","pages/ActivityPage/index.js","reducers/index.js","configureStore.js","App.js","serviceWorker.js","index.js"],"names":["withRouter","withTheme","theme","iconName","label","href","location","history","colorCode","pathname","color","palette","main","className","onClick","push","style","Icon","Typography","variant","BottomNavigation","buttons","this","map","info","React","Component","props","width","createMuiTheme","primary","secondary","warning","grey1","grey2","white","black","typography","fontFamily","join","h1","fontSize","fontWeight","h2","h3","h4","h5","word","highlightWord","highlightClassName","unhighlightClassName","searchWords","autoEscape","textToHighlight","title","subtitle","actions","initialState","bookmarks","compareBookmark","b1","b2","form","findBookmark","foundBookmarks","filter","b","found","getBookmark","WrappedComponent","connect","state","bookmark","dispatch","addBookmark","type","BookmarkActions","removeBookmark","newWordOrBookmark","rest","recognisedWordForms","grammaticalCases","split","withBookmarks","open","suggestions","anchorEl","searching","searchWord","onSelectWord","Popper","id","Paper","square","clientWidth","undefined","Object","keys","sugg","MenuItem","key","component","Highlight","some","adding","Wiktionary","url","baseURL","apiURL","fetch","res","json","searchTerm","encodeURIComponent","fetchJSON","data","length","Error","assign","range","i","text","html","parser","$","page","find","isGermanWord","next","children","germanSection","formTag","end","first","nextUntil","formSection","trim","toLowerCase","indexOf","clone","remove","get","nounSection","smallSummary","plural","genitive","section","tense","pSection","past_participle","third_person_singular","past_tense","comparative","superlative","getPageContent","getGermanSection","forEach","getWordFormSection","meaning","getMeaning","getAdjectiveComparatives","auxillary","getAuxillaryVerb","getTense","gender","getGender","declension","getNounDeclension","qualifier","getQualifier","ADD_SEARCH","CLEAR_SEARCH","rawSearches","searches","SET_CONFIG","proxyURL","serverURL","withServerConfig","config","setConfig","withWiktionary","wiktionary","onSearchTermChange","useState","input","setInput","setSuggestions","setAnchorEl","setSearching","searchCounter","setSearchCounter","TextField","flex","e","currentTarget","onChange","value","target","clearTimeout","setTimeout","a","getSearchAutoCompleteSuggestion","SuggestionsContainer","bind","render","online","withOffline","setSearchTerm","Fab","disabled","count","backgroundColor","searchCount","canClick","subMessage","formAbbreviation","shortMeaning","replace","wordOrDash","horizontal","size","openSnackbar","setOpenSnackbar","snackbarConfig","setSnackbarConfig","icon","Snackbar","SnackbarContent","message","search","withSnackbar","webcamRef","useRef","cameraStarted","setCameraStarted","photo","setPhoto","boxAndWords","setBoxAndWords","recognizing","setRecognizing","onPhotoTaken","photoString","formData","FormData","append","method","mode","body","response","display","alignItems","justifyContent","anchorOrigin","vertical","height","ref","audio","screenshotFormat","onTakePhoto","videoConstraints","facingMode","current","getScreenshot","launchCamera","withCamera","showProgress","setShowProgress","setTitle","setProgressTitle","Dialog","CircularProgress","withCircularProgress","useEffect","marginBottom","reverse","leftButton","rightButton","withBackButton","name","goBack","withWordSearch","addSearch","SearchAction","pop","wordInfo","setWordInfo","loading","setLoading","getWordInfo","fetchWord","loadingComponent","_","notFoundComponent","formInfo","ExerciseContext","createContext","Mask","setHasAnswerRevealed","setReveal","ExerciseMask","reveal","Consumer","Wrapper","KeyValueRow","keyName","setExerciseRefs","nestedInfo","flatten","infoKeyToRowKey","setOpen","actionSheetComponents","setActionSheetComponents","Drawer","anchor","onClose","withActionSheet","showExerciseFab","setShowExerciseFab","revealAnswers","setRevealAnswers","hasAnswerRevealed","fabIcon","fabText","Provider","classes","root","withExerciseMask","exerciseRefs","details","asExercise","verticalBuffer","ActionSheetComponents","ActionSheetOption","GrammarSection","addMeaningItem","addingMeaning","setAddingMeaning","newMeaningValue","setNewMeaningValue","updateNewMeaningValue","onAddMeaning","field","document","getElementById","focus","placeholder","Button","meanings","setMeanings","expandedIndex","setExpandedIndex","List","dense","ExpansionPanel","expanded","ExpansionPanelSummary","content","expansionIcon","stopPropagation","newMeanings","splice","removeMeaningItem","ExpansionPanelDetails","fullWidth","defaultValue","newMeaning","setMeaningItem","isAdding","editedWord","setEditedWord","isWordValid","setWordValid","fieldName","onBlur","FormControl","InputLabel","htmlFor","Select","inputProps","onBoxChosen","setHitBox","adjustBoxByRatio","box","rX","rY","startX","startY","drawBox","ctx","beginPath","lineWidth","strokeStyle","rect","stroke","findHitBox","x","y","endX","endY","drawImageAndBoxes","canvas","image","hitBox","clearRect","drawImage","boxAndWord","rawBox","strokeColor","hitBoxAdjusted","getContext","Image","onload","window","innerHeight","addEventListener","getBoundingClientRect","clientX","left","clientY","top","foundHitBox","src","suggestionState","payload","fetchSuggestions","SuggestionRow","selectedWord","setSelectedWord","defaultServerURL","defaultProxyURL","tempConfig","setTempConfig","isConfigValid","setIsConfigValid","onConfirmSetConfig","startsWith","validateTempConfig","combineReducers","action","relatedSearch","date","Date","concat","newWord","remainingBookmarks","newConfig","persistConfig","storage","persistedReducer","persistReducer","rootReducer","store","createStore","persistor","persistStore","configureStore","App","ThemeProvider","basename","path","SearchResultPage","WordDetailsPage","BookmarkPage","EditBookmarkPage","OCRSelectWordPage","ConfigPage","ActivityPage","exact","SearchPage","OfflineBanner","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","onSuccess","catch","error","ReactDOM","scrollTo","URL","process","origin","contentType","headers","status","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.93680674.chunk.js","sourcesContent":["import { Typography, Icon} from '@material-ui/core'\nimport './TabButtonStyle.css'\nimport React from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { withTheme } from '@material-ui/core'\n\nfunction TabButton({ theme, iconName, label, href, location, history}) {\n  const colorCode = (href === location.pathname)?\"primary\":\"grey1\"\n  const color = theme.palette[colorCode].main\n  \n  const goToPage = () => {\n    if (location.href === href) return\n    history.push(href)\n  }\n  return (\n    <div className=\"TabButton\" onClick={goToPage} style={{color}}>\n      <Icon color={color}>{iconName}</Icon>\n      <Typography variant=\"h4\" color={color}>\n        {label}\n      </Typography>\n    </div>\n  )\n}\n\nexport default withRouter(withTheme(TabButton))\n","import React from 'react'\nimport './style.css'\nimport TabButton from './TabButton'\nimport { withTheme } from '@material-ui/styles'\n\nclass BottomNavigation extends React.Component {\n  buttons = [\n    {\n      iconName: 'search_outlined',\n      label: 'Search',\n      href: '/',\n    },\n    {\n      iconName: 'bookmark',\n      label: 'Bookmarks',\n      href: '/words'\n    },\n    {\n      iconName: 'bar_chart_outlined',\n      label: 'Activities',\n      href: '/activity'\n    },\n    {\n      iconName: 'settings_applications_outlined',\n      label: 'Settings',\n      href: '/settings'\n    }\n  ]\n  render() {\n    return (\n      <div\n        className=\"BottomNavigationContainer\">\n      {\n        this.buttons.map((info) => (\n          <TabButton {...info}/>\n        ))\n      }\n\n      </div>\n    )\n  }\n}\n\nexport default withTheme(BottomNavigation)\n","import React from 'react'\nimport { Offline } from 'react-detect-offline'\nimport { Icon, Typography } from '@material-ui/core'\nimport \"./style.css\"\n\nexport default function(props) {\n  return (\n    <Offline>\n      <div className=\"OfflineBanner\">\n        <Icon>warning</Icon>\n        <div style={{width: 8}} />\n        <Typography variant=\"h3\">\n          You are offline.\n        </Typography>\n      </div>\n    </Offline>\n  )\n}\n","import { createMuiTheme } from '@material-ui/core/styles';\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {main: '#1364A6'},\n    secondary: {main: '#F5A623'},\n    info: {main: '#D0DDE8'},\n    warning: {main: '#57a757'},\n    grey1: {main: '#898888'},\n    grey2: {main: '#8E8E93'},\n    white: {main: '#FFFFFF'},\n    black: {main: '#000000'}\n  },\n\n  typography: {\n    fontFamily: [\n      '\"Noto Sans\"',\n      'sans-serif'\n    ].join(','),\n    h1: {\n      fontSize: 24,\n      fontWeight: 'bold'\n    },\n    h2: {\n      fontSize: 18,\n      fontWeight: 'bold'\n    },\n    h3: {\n      fontSize: 14,\n      fontWeight: 'bold'\n    },\n    h4: {\n      fontSize: 14\n    },\n    h5: {\n      fontSize: 12,\n      fontWeight: 'light'\n    }\n  }\n})\n\nexport default theme\n","import React from 'react'\nimport Highlight from 'react-highlight-words'\nimport './style.css'\nexport default function({word, highlightWord, ...props}) {\n  return (\n    <Highlight\n      {...props}\n      highlightClassName=\"MuiTypography-h4 HighlightText\"\n      unhighlightClassName=\"MuiTypography-h4\"\n      searchWords={[highlightWord]}\n      autoEscape={true}\n      textToHighlight={word}\n    />\n  )\n}\n","import React from 'react';\nimport './style.css';\nimport { Icon, Typography } from '@material-ui/core';\nimport { withTheme } from '@material-ui/styles';\n\nfunction CenterNotice({theme, iconName, title, subtitle = '', className, ...props}) {\n  return (\n    <div className={`CenterNotice ${className || ''}`} style={{color: theme.palette.grey2.main}}>\n      <Icon className=\"CenterNoticeIcon\">{iconName}</Icon>\n      <Typography variant=\"h3\">{title}</Typography>\n      <Typography variant=\"h4\">{subtitle}</Typography>\n    </div>\n  )\n}\n\nexport default withTheme(CenterNotice)\n","import { isEqual } from 'lodash'\nexport const actions = {\n  ADD_BOOKMARK: 'ADD_BOOKMARK',\n  REMOVE_BOOKMARK: 'REMOVE_BOOKMARK'\n}\n\nconst initialState = {\n  bookmarks: []\n}\n\nexport function compareBookmark(b1, b2) {\n  return b1.word === b2.word &&  b1.form === b2.form\n}\n\nconst findBookmark = (bookmarks, {form, word})  => {\n  const foundBookmarks = bookmarks.filter(b => b.form === form && b.word === word)[0]\n  if(!foundBookmarks) return {found: null, bookmarks}\n  else return {\n    found: foundBookmarks,\n    bookmarks: bookmarks.filter(b => !compareBookmark(b, foundBookmarks))\n  }\n}\n\nexport default function(state = initialState, action) {\n  const newWord = action.word\n  switch(action.type) {\n    case actions.ADD_BOOKMARK:\n      // if the word is there, do nothing\n      if(findBookmark(state.bookmarks, newWord).found) return state\n      return {\n        ...state,\n        bookmarks: state.bookmarks.concat(newWord)\n      }\n    case actions.REMOVE_BOOKMARK:\n      const {found, bookmarks: remainingBookmarks} = findBookmark(state.bookmarks, newWord)\n      // if the word is not there, nothing to remove\n      if(!found) return state\n\n      return {\n        ...state,\n        bookmarks: remainingBookmarks\n      }\n    default: return state\n  }\n}\n","import React from 'react'\nimport {connect} from 'react-redux'\nimport { actions as BookmarkActions, compareBookmark } from '../reducers/bookmark'\n\n// functions related to extracting bookmarks\nexport function getBookmark(bookmarks, word) {\n  const foundBookmarks = bookmarks.filter(b => compareBookmark(b, word))\n  return foundBookmarks[0]\n}\n\nexport function newWordOrBookmark(bookmarks, {word, form, info, ...rest}) {\n  const bookmark = getBookmark(bookmarks, { word, form})\n  if(bookmark) return { word, info: bookmark.info, form, ...rest }\n  else return { word, form , info, ...rest}\n}\nexport default function(WrappedComponent) {\n  return connect(           // bounding the wrapped component to redux\n    state => state.bookmark,\n    dispatch => ({\n      addBookmark: word => dispatch({\n        type: BookmarkActions.ADD_BOOKMARK,\n        word\n      }),\n      removeBookmark: word => dispatch({\n        type: BookmarkActions.REMOVE_BOOKMARK,\n        word\n      })\n    }),\n  )(function({bookmarks, ...props}) {\n    // the wrapped component with additional properties\n    return (\n      <WrappedComponent\n        {...props}\n        bookmarks={bookmarks}\n        newWordOrBookmark={b => newWordOrBookmark(bookmarks, b)}\n        getBookmark={(b) => getBookmark(bookmarks, b)}\n      />)\n  })\n}\n","export const recognisedWordForms = [\n  'Adjective',\n  'Noun',\n  'Verb',\n  'Adverb',\n  'Preposition',\n  'Phrase'\n]\n\nexport const grammaticalCases = 'norminative,accusative,dative,genitive'.split(',')\n\nexport const serverURL = \"http://localhost:8989\"\n","import React from 'react'\nimport {\n  MenuItem,\n  Popper,\n  Paper,\n  Typography, Icon\n} from '@material-ui/core'\nimport Highlight from '../../../components/Highlight'\nimport CenterNotice from '../../../components/CenterNotice'\nimport { withRouter } from 'react-router-dom'\nimport { withTheme } from '@material-ui/styles'\nimport withBookmarks from '../../../backend/withBookmarks'\nimport { recognisedWordForms } from '../../../backend/constants'\nfunction SearchSuggestionContainer(props) {\n  const { open,\n    history, // withRouter\n    suggestions = {},\n    anchorEl,\n    searching,\n    getBookmark,\n    searchWord, onSelectWord } = props\n  return (\n    <Popper id=\"SuggestionsContainer\" open={open} anchorEl={anchorEl}>\n      <Paper square style={{ width: anchorEl ? anchorEl.clientWidth : undefined }}>\n        {searching && (\n          <CenterNotice className=\"SearchSuggestionCenterNotice\" iconName=\"search\" title=\"Searching...\" />\n        )}\n        {!searching && Object.keys(suggestions).map(sugg => (\n          <MenuItem\n            key={sugg}\n            component=\"div\"\n            onClick={() => onSelectWord(sugg)}\n            >\n            <Highlight word={sugg} highlightWord={searchWord} />\n            {\n              recognisedWordForms.some(form => !!getBookmark({word: sugg, form})) && (\n                <Icon color=\"primary\">bookmark</Icon>\n              )\n            }\n          </MenuItem>\n        ))}\n        {!searching && (\n          <div\n            onClick={() => history.push({\n              pathname: '/edit',\n              state: {adding: true, info: { word: searchWord }}\n            })}\n            className=\"SuggestionsContainerAddWordRow\">\n            <Icon>add</Icon>\n            <div style={{width: 8}} />\n            <Typography variant=\"h3\">Add a word</Typography>\n          </div>\n        )}\n      </Paper>\n    </Popper>\n  )\n}\n\nexport default withRouter(\n  withTheme(\n    withBookmarks(SearchSuggestionContainer)\n  )\n)\n","import { range } from 'lodash'\nimport { recognisedWordForms, grammaticalCases } from './constants'\nimport $ from 'jquery'\n\nexport default class Wiktionary {\n\n  constructor(url = null) {\n    if(url) {\n      this.baseURL = `${url}/wiki`\n      this.apiURL = `${url}/w/api.php`\n    }\n  }\n\n  async fetchJSON(url) {\n    const res = await fetch(url)\n    return res.json()\n  }\n\n  async getSearchAutoCompleteSuggestion(searchTerm) {\n    const url = `${this.apiURL}?action=opensearch&limit=5&search=${encodeURIComponent(searchTerm)}`\n    const data = await this.fetchJSON(url)\n    if (data.length !== 4) throw new Error()\n    return Object.assign({}, ...range(data[1].length).map(i => ({ [data[1][i]]: data[3][i] })))\n  }\n\n  async getPageContent(word) {\n    const url = `${this.baseURL}/${word}`\n    const data = await fetch(url)\n    const html = await data.text()\n    try {\n      const parser = $(html)\n      return parser\n    } catch(e) {\n      return null\n    }\n\n  }\n\n  doesWordExists(page) {\n    return page.find(\"a[href='/wiki/Wiktionary:Requested_entries']\").length < 2\n  }\n\n  getGermanSection(page) {\n    if(!this.isGermanWord(page)) return null\n    return page.find('h2:has(span[id=\"German\"])').next().children()\n  }\n\n  getWordFormSection(germanSection, form) {\n    const formTag = germanSection.end().find(`h3:has(span:contains(${form})),h4:has(span:contains(${form}))`)\n    if (formTag.length === 0) return null\n\n    return formTag.first().nextUntil('h3,h4')\n  }\n\n  isGermanWord(page) {\n    return page.find('span[id=\"German\"]').length === 1\n  }\n\n  getQualifier(formSection) {\n    const text = formSection\n      .end()\n      .next('p:has(span.ib-content)')\n      .text().trim().toLowerCase()\n    for(let i in grammaticalCases) {\n      if(text.indexOf(grammaticalCases[i]) !== -1) {\n        return grammaticalCases[i]\n      }\n    }\n  }\n\n  getMeaning(formSection) {\n    const meanings = formSection\n      .next('ol') // the list of meanings\n      .children('li') // some li has display: none elements inside that gives some gibberish so only visibles are included\n      .map(function() {\n          return $(this).clone()\n            .children(':not(a, i, span)') // no [quotations] or hidden li-s, but <a> are included since some of the translations are wrapped in it (and some are even within a huge 'span')\n            .remove()            // take away those mentioned above\n            .end()               // return to the parent (this)\n            .text().trim()       // and take the text, tidy up\n          })\n      .get()                     // get the array back\n    return meanings\n  }\n\n  getGender(formSection) {\n    return formSection.find('abbr[title*=\"gender\"]').text()[0]\n  }\n\n  getNounDeclension(nounSection) {\n    // this is the one-line summary below the h3 with span \"Noun\"\n    // example: \"Herausforderung f (genitive Herausforderung, plural Herausforderungen)\"\n    const smallSummary = nounSection.end().next('p:has(span)')\n    if(smallSummary.length === 0) return {} // something wrong here\n    let info = {}\n\n    // scrape the small summary...\n    const plural = smallSummary.find('i:contains(plural)') // the \"plural\" tag in the one-line summary\n      .next() // the word after \"plural\"\n      .text()\n    const genitive = smallSummary.find('i:contains(genitive)') // the \"plural\" tag in the one-line summary\n      .next() // the word after \"plural\"\n      .text()\n    info.plural = plural\n    info.genitive = genitive\n\n    return info\n  }\n\n  getAuxillaryVerb(section) {\n    return section.end().next('p').find('i:contains(auxiliary)').next().text()\n  }\n\n  getTense(section) {\n    let tense = {}\n    const pSection = section.end().next('p')\n    tense.past_participle = pSection.find('i:contains(participle)').next().text()\n    tense.third_person_singular = pSection.find('i:contains(third):contains(singular)').next().text()\n    tense.past_tense = pSection.find('i:contains(past tense)').next().text()\n    return tense\n  }\n  getAdjectiveComparatives(section) {\n    const pSection = section.end().next('p')\n    const comparative = pSection.find('i:contains(comparative)').next().text()\n    const superlative = pSection.find('i:contains(superlative)').next().text()\n    return { comparative, superlative }\n  }\n  async getWordInfo(word) {\n    const page = await this.getPageContent(word)\n    const germanSection = this.getGermanSection(page)\n    if (!germanSection) return null\n    let info = {}\n    recognisedWordForms.forEach(form => {\n      const section = this.getWordFormSection(germanSection, form)\n      if(!section) {\n        info[form] = null\n        return\n      }\n      info[form] = {}\n      info[form].meaning = this.getMeaning(section)\n      switch(form) {\n        case \"Adjective\":\n          info[form] = {...info[form], ...this.getAdjectiveComparatives(section)}\n          break\n        case \"Verb\":\n          info[form].auxillary = this.getAuxillaryVerb(section)\n          info[form].tense = this.getTense(section)\n          break\n        case \"Noun\":\n          info[form].gender = this.getGender(section)\n          info[form].declension = this.getNounDeclension(section)\n          break\n        case \"Preposition\":\n          info[form].qualifier = this.getQualifier(section)\n          break\n        default: break\n      }\n    })\n    if (Object.keys(info).length === 0) return null // empty object??\n    return info\n  }\n}\n","\nexport const actions = {\n  ADD_SEARCH: 'ADD_SEARCH',\n  CLEAR_SEARCH: 'CLEAR_SEARCH'\n}\n\nconst initialState = {\n  rawSearches: [],\n  searches: []\n}\n\nexport default function(state = initialState, action) {\n  switch(action.type) {\n    case actions.ADD_SEARCH: // if the search wasn't there, add the record. Otherwise update the count\n      const { word, form } = action.search\n      const rawSearches = [...state.rawSearches, {\n        ...action.search, date: new Date()\n      }]\n      const relatedSearch = state.searches.filter(search => {\n        return search.word === word && search.form === form\n      })\n      if(relatedSearch.length === 0) {\n        return {\n          ...state,\n          searches: state.searches.concat({\n            ...action.search,\n            searchCount: 1\n          })\n        }\n      } else {\n        return {\n          ...state,\n          searches: [\n            ...state.searches.filter(search => search.word !== word || search.form !== form),\n            {...action.search, searchCount: relatedSearch[0].searchCount + 1}\n          ]\n        }\n      }\n    case actions.CLEAR_SEARCH:\n      return {...state, searches: []}\n    default:\n      return state\n  }\n}\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nexport const actions = {\n  SET_CONFIG: 'SET_CONFIG'\n}\n\nconst initialState = {\n  proxyURL: 'http://localhost:8989',\n  serverURL: 'http://localhost:8080/ocr'\n}\n\n\nexport default function(state = initialState, action) {\n  switch(action.type) {\n    case actions.SET_CONFIG:\n      const { type, ...newConfig } = action\n      return { ...state, ...newConfig }\n    default: return state\n  }\n}\n\n// helper HOC for getting config\nexport function withServerConfig(WrappedComponent) {\n  return connect(\n    state => state.config,\n    dispatch => ({\n      setConfig: ({ serverURL, proxyURL}) => dispatch({\n        type: actions.SET_CONFIG,\n        serverURL, proxyURL\n      })\n    })\n  )(WrappedComponent)\n}\n","import React from 'react'\nimport {\n  TextField,\n} from '@material-ui/core'\nimport SuggestionsContainer from './SuggestionsContainer'\nimport { withWiktionary } from '../../../backend/hoc'\n\nconst SearchBar = function(props) {\n  const { wiktionary, onSearchTermChange } = props\n  // the states\n  const [input, setInput] = React.useState('')\n  const [suggestions, setSuggestions] = React.useState({})\n  const [anchorEl, setAnchorEl] = React.useState(null)\n  // flag indicating if a search is ongoing\n  const [searching, setSearching] = React.useState(null)\n  // the counter that launches the search when time is up\n  const [searchCounter, setSearchCounter] = React.useState(null)\n\n  const onSetInput = (value) => {\n    setInput(value)\n    clearTimeout(searchCounter)\n    setSearching(true)\n    setSearchCounter(\n      setTimeout(async () => {\n        setSuggestions(await wiktionary.getSearchAutoCompleteSuggestion(value))\n        setSearching(false)\n      }, 500)\n    )\n  }\n\n  const onSelectWord = (word) => {\n    setInput(word)\n    setAnchorEl(null) // close the anchor\n    setSuggestions({})\n    onSearchTermChange(word)\n  }\n  return (\n    <div className=\"SearchFormInput\">\n      <TextField\n        style={{flex: 1}}\n        onClick={e => setAnchorEl(e.currentTarget)}\n        onChange={e => onSetInput(e.target.value)}\n        value={input}\n        label=\"Search Words\" />\n      <SuggestionsContainer\n        open={!!anchorEl && !!input}\n        anchorEl={anchorEl}\n        searchWord={input}\n        searching={searching}\n        onSelectWord={onSelectWord.bind(this)}\n        suggestions={suggestions}/>\n    </div>\n  )\n}\n\nexport default withWiktionary(SearchBar)\n","import React from 'react'\nimport Wiktionary from './wiktionary'\nimport { connect } from 'react-redux'\nimport { actions as SearchAction } from '../reducers/search'\nimport { withServerConfig } from '../reducers/config'\n\nexport function withWiktionary(WrappedComponent) {\n  return withServerConfig(\n    function(props) {\n      const { proxyURL } = props // withServerConfig\n      const wiktionary = new Wiktionary(proxyURL)\n      return <WrappedComponent {...props} wiktionary={wiktionary} />\n    }\n  )\n}\n\nexport function withWordSearch(WrappedComponent) {\n  const mapDispatchToProps = dispatch => ({\n    addSearch: search => dispatch({type: SearchAction.ADD_SEARCH, search})\n  })\n\n  return connect(null, mapDispatchToProps)(\n    withServerConfig(\n      function({\n        location, addSearch,\n        proxyURL, // withServerConfig\n        ...props}) {\n        const wiktionary = new Wiktionary(proxyURL)\n        if(!location) return <WrappedComponent {...props} />\n          const word = location.pathname.split('/').pop()\n\n          const [ wordInfo, setWordInfo ] = React.useState(null)\n          const [ loading, setLoading ] = React.useState(true)\n\n          // load the words...\n          React.useEffect(() => {\n            async function fetchWord() {\n              const wordInfo = await wiktionary.getWordInfo(word)\n              setWordInfo(wordInfo)\n              setLoading(false)\n              // add Search to record\n              wordInfo && Object.keys(wordInfo).forEach(form => {\n                const info = wordInfo[form]\n                if(info) {\n                  addSearch({ word, info, form })\n                }\n              })\n            }\n            fetchWord()\n          }, [])\n\n          return <WrappedComponent wordInfo={wordInfo} loading={loading} {...props} />\n      })\n  )\n}\n","import React from 'react'\nimport { Detector } from 'react-detect-offline'\n\nexport default function(WrappedComponent) {\n  return function(props) {\n    return (\n      <Detector\n        render={({online}) => (\n          <WrappedComponent {...props} online={online} />\n        )}\n      />\n    )\n  }\n}\n","import React from 'react'\nimport './style.css'\nimport {\n  Fab,\n  Icon,\n  Typography\n} from '@material-ui/core';\nimport SearchBar from './SearchBar'\nimport { withRouter } from 'react-router-dom'\nimport withOffline from '../../../backend/withOffline'\n\nfunction SearchGroup(props) {\n  const { online } = props // withOffline\n  const [searchTerm, setSearchTerm ] = React.useState('')\n  const toSearchPage = () => {\n\n    props.history.push(`/search/${searchTerm}`)\n  }\n  return (\n    <div className=\"SearchFormGroup\">\n      <SearchBar onSearchTermChange={setSearchTerm.bind(this)} />\n      <Fab\n        disabled={!online || !searchTerm || !searchTerm.length}\n        onClick={toSearchPage.bind(this)}\n        variant=\"extended\" color=\"secondary\" className=\"SearchButton\">\n        <Icon>search_outlined</Icon>\n        <Typography variant=\"h3\">Search</Typography>\n      </Fab>\n    </div>\n  )\n}\n\nexport default withRouter(\n  withOffline(SearchGroup)\n)\n","import React from 'react'\nimport { Typography } from '@material-ui/core'\nimport { withTheme } from '@material-ui/styles'\nimport './style.css'\n\nfunction CounterBadge({count = 0, className, theme, ...props}) {\n  return (\n    <div\n      {...props}\n      className={`CounterBadge ${className}`}\n      style={{backgroundColor: theme.palette.primary.main}}>\n      <Typography variant=\"h3\" color=\"white\">{count}</Typography>\n    </div>\n  )\n}\n\nexport default withTheme(CounterBadge)\n","import React from 'react'\nimport { withTheme } from '@material-ui/styles'\nimport { withRouter } from 'react-router-dom'\nimport { Typography } from '@material-ui/core'\nimport CounterBadge from '../CounterBadge'\n\nimport './style.css'\n\nfunction ShortWordCard(props) {\n\n  const {\n    info, word, form, searchCount, // properties from store\n    theme, className, history,\n    canClick = true,\n  } = props\n\n  let subMessage = ''\n  let formAbbreviation = ''\n  const shortMeaning = info.meaning.join(';').replace(/\\(.*?\\)/, '')\n  const wordOrDash = word => word?word:' - '\n\n  switch (form) {\n    case 'Adjective':\n      formAbbreviation = 'adj.'\n      subMessage = `${wordOrDash(info.comparative)} | ${wordOrDash(info.superlative)}`\n      break\n    case 'Noun':\n      formAbbreviation = 'n.'\n      subMessage = `${wordOrDash(`${info.gender}.`)} | ${wordOrDash(info.declension.plural)}`\n      break\n    case 'Verb':\n      formAbbreviation = 'v.'\n      subMessage = `${wordOrDash(info.auxillary)} | ${wordOrDash(info.tense.past_participle)}`\n      break\n    case 'Preposition':\n      formAbbreviation = 'prep.'\n      break\n    case 'Adverb':\n      formAbbreviation = 'adv.'\n      break\n    default:\n      break\n  }\n\n  const onClick = () => history.push({\n    pathname: '/wordDetails',\n    state: {info, form, word, searchCount } // throw all the info including the form and the word itself to the detail page\n  })\n\n  return (\n    <div className={`ShortWordCardContainer ${className}`} onClick={canClick && onClick}>\n      <div className=\"ShortWordLeftContainer\">\n        <div className=\"ShortWordHeadRow\">\n          <Typography variant=\"h3\"> {word} </Typography>\n          <div style={{width: 8}} />\n          <Typography variant=\"h4\"> ({formAbbreviation}) </Typography>\n        </div>\n        <div className=\"ShortWordHeadRow\">\n          <Typography variant=\"h4\" style={{color: theme.palette.grey2.main}}>\n            {wordOrDash(subMessage)}\n          </Typography>\n        </div>\n        <div className=\"ShortWordHeadRow\">\n          <Typography variant=\"h5\" style={{color: theme.palette.grey2.main}}>\n            {wordOrDash(shortMeaning)}\n          </Typography>\n        </div>\n      </div>\n      <CounterBadge count={searchCount} />\n    </div>\n  )\n}\n\nexport default withRouter(withTheme(ShortWordCard))\n","import React from 'react'\n\nexport default function({horizontal = false, size = 8}) {\n  return (\n    <div style={{[horizontal?\"width\":\"height\"]: size}} />\n  )\n}\n","import React from 'react'\nimport {\n  Snackbar, SnackbarContent,\n  Typography, Icon\n} from '@material-ui/core'\nimport Separator from '../../components/separator'\nimport './style.css'\n\nexport default function(WrappedComponent) {\n  return function(props) {\n\n    const [ openSnackbar, setOpenSnackbar ] = React.useState(false)\n    const [snackbarConfig, setSnackbarConfig ] = React.useState({})\n\n    const { title, icon, style, ...config } = snackbarConfig\n\n    return (\n      <>\n        <WrappedComponent\n          setOpenSnackbar={setOpenSnackbar}\n          setSnackbarConfig={setSnackbarConfig}\n          {...props} />\n        <Snackbar\n          variant=\"primary\"\n          open={openSnackbar}>\n          <SnackbarContent\n            style={style}\n            message={(\n              <div className=\"SnackbarContainer\">\n                <Icon>{icon}</Icon>\n                <Separator horizontal size={16} />\n                <Typography variant=\"h3\">\n                  {title}\n                </Typography>\n              </div>\n            )}\n          />\n\n        </Snackbar>\n      </>\n    )\n  }\n}\n","import React from 'react';\nimport './style.css';\nimport { Typography, Icon } from '@material-ui/core';\nimport { withTheme } from '@material-ui/styles';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport SearchGroup from './SearchGroup';\nimport CenterNotice from '../../components/CenterNotice';\nimport ShortWordCard from '../../components/ShortWordCard';\nimport withCamera from '../../backend/withCamera';\nimport withCircularProgress from '../../backend/withCircularProgress';\nimport withOffline from '../../backend/withOffline';\n\nfunction SearchPage(props) {\n    const {\n      theme,  // withTheme\n      searches,\n      online, // withOffline\n      history, // withRouter\n      photo, launchCamera, // withCamera\n      recognizing, boxAndWords, // withCamera\n      setShowProgress, setProgressTitle // withCircularProgress\n    } = props\n\n    // show up the recognizing popup\n    React.useEffect(() => {\n      setProgressTitle(\"Detecting text...\")\n      setShowProgress(recognizing)\n    }, [recognizing])\n\n    // push to the OCR result page when results and photos are both available\n    React.useEffect(() => {\n      if(boxAndWords && photo) {\n        // push to next page...\n        history.push({\n          pathname: '/ocr',\n          state: { boxAndWords, photo }\n        })\n      }\n    }, [boxAndWords])\n\n    const CameraButton = () => (\n      <div style={{color: online?'white':'rgba(255, 255, 255, 0.3)'}}>\n        <Icon\n          onClick={online && launchCamera}\n          color=\"white\" style={{fontSize: 36}}>photo_camera</Icon>\n      </div>\n    )\n    return (\n      <div\n        style={{backgroundColor: theme.palette.primary.main }}\n        className=\"SearchPageMain\">\n        <div className=\"SearchPageTop\">\n          <CameraButton />\n          <div style={{flex: 1}}>\n            <Typography variant=\"h1\"\n              style={{marginBottom: 8, color: theme.palette.white.main}}>\n              German Helper\n            </Typography>\n            <Typography variant=\"h3\" style={{color: theme.palette.grey2.main}}>\n              Search words or phrases below...\n            </Typography>\n          </div>\n\n        </div>\n        <div\n          style={{backgroundColor: theme.palette.white.main }}\n          className=\"SearchPageBottom\">\n          <SearchGroup />\n          <div className=\"SearchResultGroup\">\n            <Typography variant=\"h2\">Recently Searched</Typography>\n            <div style={{height: 28}} />\n            {\n              searches.length?(\n                <div className=\"SearchResultList\">\n                  {\n                    searches.reverse().map(search => (\n                      <ShortWordCard {...search} />\n                    ))\n                  }\n                </div>\n              ):(\n                <CenterNotice\n                  iconName=\"search_outlined\"\n                  title=\"You did not search anything recently\"\n                />\n              )\n            }\n        </div>\n        </div>\n      </div>\n    )\n}\n\nconst mapStateToProps = state => state.search\nexport default connect(mapStateToProps, null)(\n  withTheme(\n    withRouter(\n      withOffline(\n        withCamera(\n          withCircularProgress(SearchPage)\n        )\n      )\n    )\n  )\n)\n","import React from 'react'\nimport Webcam from \"react-webcam\"\nimport { Icon, Typography } from '@material-ui/core'\n\nimport { withTheme } from '@material-ui/styles'\nimport { withServerConfig } from '../../reducers/config'\nimport withSnackbar from '../../backend/withSnackbar'\n\nimport 'react-html5-camera-photo/build/css/index.css'\nimport './style.css'\n\nexport default function(WrappedComponent) {\n  return withTheme(withServerConfig(\n    withSnackbar(function(props) {\n      const url = props.serverURL\n      const {\n        theme,\n        setSnackbarConfig,\n        setOpenSnackbar,\n      } = props\n\n      const webcamRef = React.useRef(null)\n      // states\n      const [cameraStarted, setCameraStarted] = React.useState(false)\n      const [photo, setPhoto] = React.useState(null)\n      const [boxAndWords, setBoxAndWords] = React.useState(null)\n      const [recognizing, setRecognizing] = React.useState(false)\n      // derived states and actions\n      const launchCamera = () => setCameraStarted(true)\n\n\n      const onPhotoTaken = async photo => {\n        setPhoto(photo)\n        setCameraStarted(false)\n\n        setRecognizing(true)\n\n        const photoString = photo.replace(/^data:image\\/jpeg;base64,/, \"\")\n        const formData = new FormData()\n        formData.append('image', photoString)\n        const response = await fetch(url, {\n          method: 'POST',\n          mode: 'cors',\n          body: formData\n        })\n        try {\n          setBoxAndWords(await response.json())\n        } catch(e) {\n          setSnackbarConfig({\n            title: \"Cannot reach OCR Server\",\n            icon: \"warning\",\n            style: {\n              color: 'white',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'space-between',\n              width: '100%',\n              backgroundColor: theme.palette.secondary.main\n            },\n            anchorOrigin: {\n               vertical: 'bottom',\n               horizontal: 'left',\n             }\n          })\n          setOpenSnackbar(true)\n          setTimeout(() => setOpenSnackbar(false), 3000)\n        }\n\n\n        setRecognizing(false)\n      }\n      return (cameraStarted?\n          <>\n            <Icon\n              onClick={() => setCameraStarted(false)}\n              className=\"CameraBackButton\">\n              keyboard_arrow_left\n            </Icon>\n            <div className=\"CameraViewWrapper\">\n              <Webcam\n                width=\"100%\"\n                height=\"70%\"\n                ref={webcamRef}\n                audio={false}\n                screenshotFormat=\"image/jpeg\"\n                onTakePhoto={onPhotoTaken}\n                videoConstraints={{\n                  // width: 240,\n                  // height: 320,\n                  facingMode: 'environment'\n                }}\n              />\n              <div className=\"CameraHelpText\">\n                <Typography variant=\"h3\" style={{color: 'white'}}>\n                  Point your camera towards some German texts and click the button below.\n                </Typography>\n              </div>\n              <div className=\"CameraShootButtonRow\"\n                onClick={() => onPhotoTaken(webcamRef.current.getScreenshot())}\n              >\n                <div className=\"CameraShootButton\" style={{backgroundColor: theme.palette.primary.main}}>\n                  <Icon color=\"white\">photo_camera</Icon>\n                </div>\n              </div>\n            </div>\n          </>:\n          <WrappedComponent\n            {...props}\n            boxAndWords={boxAndWords}\n            recognizing={recognizing}\n            photo={photo}\n            launchCamera={launchCamera} />\n      )\n  })))\n}\n","import React from 'react'\nimport {\n  Typography,\n  CircularProgress,\n  Dialog\n} from '@material-ui/core'\nimport './style.css'\nexport default function(WrappedComponent) {\n  return function(props) {\n    const [showProgress, setShowProgress] = React.useState(false)\n    const [title, setTitle] = React.useState(null)\n    return (\n      <>\n        <WrappedComponent\n          {...props}\n          setShowProgress={setShowProgress}\n          setProgressTitle={setTitle}\n        />\n        <Dialog open={showProgress}>\n          <div className=\"CircularProgressContainer\">\n            <CircularProgress color=\"primary\" />\n            <Typography variant=\"h3\">{title}</Typography>\n          </div>\n        </Dialog>\n      </>\n    )\n  }\n}\n","import React from 'react'\nimport './style.css'\nimport { withTheme } from '@material-ui/styles'\nimport { withRouter } from 'react-router-dom'\nimport { Typography, Icon } from '@material-ui/core'\n\nfunction TopNavigation(props) {\n  const {\n    title, leftButton, rightButton,\n    withBackButton,\n    history // withRouter\n  } = props\n  return (\n    <div\n      style={{backgroundColor: props.theme.palette.primary.main }}\n      className=\"TopNavigationContainer\">\n      <div className=\"TopNavigationButtonContainer\">\n        { (leftButton && !withBackButton) && (\n          <Icon onClick={leftButton.onClick}>{leftButton.name}</Icon>\n        )}\n        {\n          withBackButton && (\n            <Icon onClick={history.goBack}>keyboard_arrow_left</Icon>\n          )\n        }\n      </div>\n      <Typography variant=\"h3\">{title}</Typography>\n      <div className=\"TopNavigationButtonContainer\">\n        { rightButton && (\n          <Icon onClick={rightButton.onClick}>{rightButton.name}</Icon>\n        )}\n      </div>\n    </div>\n  )\n}\n\nexport default withTheme(\n  withRouter(TopNavigation)\n)\n","import React from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { withTheme } from '@material-ui/styles'\nimport { connect } from 'react-redux'\nimport { Typography } from '@material-ui/core'\nimport TopNavigation from '../TopNavigation'\nimport { List } from 'react-content-loader'\nimport './style.css'\nimport { range } from 'lodash'\nimport { withWordSearch } from '../../backend/hoc'\nimport ShortWordCard from '../../components/ShortWordCard'\nimport CenterNotice from '../../components/CenterNotice'\n\nfunction SearchResultPage(props) {\n  const {\n    location, history,  // withRouter\n    wordInfo, loading,\n  } = props\n  const word = location.pathname.split('/').pop()\n  // the state that this page carries if it is from OCR suggestions\n\n  const loadingComponent = range(4).map(_ => <List />)\n  const notFoundComponent = <CenterNotice iconName=\"search\" title=\"No German Words Found\" />\n  const formComponent = (form, formInfo) => formInfo?(\n          <div className=\"SearchResultFormRow\">\n            <Typography variant=\"h2\">{form}</Typography>\n            <ShortWordCard\n              className=\"SearchResultCard\"\n              form={form}\n              info={formInfo}\n              word={word} />\n          </div>\n        ): null\n\n  return (\n    <div className=\"SearchResultPageContainer\">\n      <TopNavigation\n        title={`Search Result for \"${word}\"`}\n        withBackButton\n      />\n      <div className=\"SearchResultMain\">\n        {loading && loadingComponent}\n        <div className=\"SearchResultList\">\n          { (!loading && wordInfo)? ( // if it is not loading and there are info\n              Object.keys(wordInfo).map(form => ( // then for each info....\n                formComponent(form, wordInfo[form])\n              ))):( // otherwise the loading and the not found message\n                !loading && notFoundComponent\n              )\n          }\n        </div>\n      </div>\n    </div>\n  )\n}\n\nconst mapStateToProps = state => state.search\n\nexport default withWordSearch(\n  withTheme(\n    withRouter(\n      connect(mapStateToProps, null)(SearchResultPage)\n    )\n  )\n)\n","import React from 'react'\nimport { \n    Fab, Icon,\n    Typography\n} from '@material-ui/core'\nimport Separator from '../../components/separator'\nimport { withTheme } from '@material-ui/styles'\nimport './style.css'\n\n/*\n    The context for an exercise.\n\n    Under the context, the major component would be \"granted\" with a FAB button for revealling / covering all answers.\n    Each decendents can be wrapped with exerciseMask and become one of those elements being covered.\n\n*/\nconst ExerciseContext = React.createContext()\n\nexport default function withExerciseMask(WrappedComponent) {\n    \n    return function(props) {\n        const [ showExerciseFab, setShowExerciseFab ] = React.useState(false)\n        const [ revealAnswers, setRevealAnswers ] = React.useState(false)\n        const [ hasAnswerRevealed, setHasAnswerRevealed ] = React.useState(false)\n        \n        const fabIcon = hasAnswerRevealed?\"undo\":\"edit\"\n        const fabText = hasAnswerRevealed?\"Reset\":\"Test\"\n\n        const onFabClick = () => {\n            setRevealAnswers(!revealAnswers)\n            setHasAnswerRevealed(false)\n        }\n\n        return (\n            <ExerciseContext.Provider \n                value={{ \n                    setHasAnswerRevealed // this gives the children to have a chance \n                    // to notify the root of the exercise that there are answers being uncovered and act accordingly\n                }}>\n                <WrappedComponent \n                    {...props}\n                    setShowExerciseFab={setShowExerciseFab}\n                    revealAnswers={revealAnswers}\n                    setRevealAnswers={setRevealAnswers}\n                />\n                {\n                    showExerciseFab && (\n                        <Fab classes={{root: \"ExerciseFab\"}} \n                            variant=\"block\"\n                            color=\"primary\" \n                            onClick={onFabClick}>\n                            <Icon>{fabIcon}</Icon>\n                            <Separator horizontal />\n                            <Typography variant=\"h3\">{fabText}</Typography>\n                        </Fab>\n                    )\n                }\n            </ExerciseContext.Provider>\n        )\n    }\n}\n\nconst Mask = withTheme(function({\n    theme: {palette},\n    setHasAnswerRevealed,\n    setReveal,\n\n    className, // style\n    ...props\n}) {\n    const onClick = () => {\n        setReveal(true)\n        setHasAnswerRevealed(true)\n    }\n    return (\n        <div className={ className || \"ExerciseMask\"} \n             onClick={onClick}\n             style={{backgroundColor: palette.primary.main}}\n             {...props}\n        />\n    )\n})\n\n/*\n    Add an additional mask to the component, click to reveal the answer\n    Also registers \n*/\nexport function exerciseMask() {\n    return function({children, ...props}) {\n        const [ reveal, setReveal ] = React.useState(true)\n        return (\n            reveal?children:(\n                <ExerciseContext.Consumer>\n                    {\n                        ({setHasAnswerRevealed}) => (\n                            <Mask {...props}\n                                setHasAnswerRevealed={setHasAnswerRevealed}\n                                setReveal={setReveal} \n                            /> \n                        )\n                    }\n                </ExerciseContext.Consumer>                \n            )\n        )\n    }\n}\n\nexport const ExerciseMask = exerciseMask()","import React from 'react'\nimport { Icon, Typography } from '@material-ui/core'\nimport './style.css'\nexport default function({iconName, title, onClick}) {\n  return (\n    <div className=\"ActionSheetOption\" onClick={onClick}>\n      <Icon>{iconName}</Icon>\n      <div style={{width: 16}} />\n      <Typography variant=\"h2\">{title}</Typography>\n    </div>\n  )\n}\n","import React from 'react'\nimport {\n  Typography\n} from '@material-ui/core'\nimport flatten from 'flat'\nimport { ExerciseMask } from '../../backend/withExerciseMask'\n\nconst Wrapper = ({children}) => (\n  [\n    <div className=\"WordDetailsRow GrammSectionWrapper\">\n      <Typography variant=\"h3\">Grammar</Typography>\n    </div>,\n    <div className=\"WordDetailsRow\">\n      <div className=\"GrammarSectionContainer\">\n        {children}\n      </div>\n    </div>\n  ]\n)\n\nconst KeyValueRow = ({keyName, value, setExerciseRefs}) => {\n  return (\n    <div className=\"GrammarSectionKeyValueRow\">\n      <div className=\"GrammarSectionKeyValueColumn GrammarSectionKey\">\n        <Typography variant=\"h4\">{keyName}</Typography>\n      </div>\n      <ExerciseMask>\n        <div className=\"GrammarSectionKeyValueColumn\">\n          <Typography variant=\"h3\">{value}</Typography>\n        </div>\n      </ExerciseMask>\n    </div>\n  )\n}\n\nexport default function({\n  info: { meaning, ...nestedInfo },  // so that the \"meanings\" are excluded from the info\n  form\n}) {\n  const info = flatten(nestedInfo)\n  const infoKeyToRowKey = key => {\n    return key.split('.').pop().replace(/_/g, ' ')\n  }\n\n  // when the nested info updates, create a new list of refs for it\n  // React.useEffect(() => {\n  //   setExerciseRefs(Object.keys(info).map(_ => React.createRef()))\n  // }, [])\n\n  if (form === 'Adverb') return null\n  return (\n    <Wrapper>\n      {\n        Object.keys(info).map(\n          (key, i) => <KeyValueRow\n            // ref={exerciseRefs[i]}\n            keyName={infoKeyToRowKey(key)}\n            value={info[key]}\n          />\n        )\n      }\n    </Wrapper>\n  )\n}\n","import React from 'react'\n\nimport { withTheme } from '@material-ui/styles'\nimport { withRouter } from 'react-router-dom'\nimport withBookmarks from '../../backend/withBookmarks'\nimport withActionSheet from '../../backend/withActionSheet'\nimport withExerciseMask, { ExerciseMask } from '../../backend/withExerciseMask'\n\nimport ActionSheetOption from '../../components/ActionSheetComponent'\nimport GrammarSection from './GrammarSection'\nimport TopNavigation from '../TopNavigation'\nimport { Typography } from '@material-ui/core'\nimport CounterBadge from '../../components/CounterBadge'\n\nimport './style.css'\n\nfunction WordDetails(props) {\n  const {\n    location, history, // withRouter\n    setActionSheetComponents, // withActionSheet\n    open, setOpen,            // withActionSheet\n    getBookmark, bookmarks,   // withBookmarks\n    newWordOrBookmark,        // withBookmarks\n    addBookmark, removeBookmark,   // withBookmarks\n    setShowExerciseFab,            // withExerciseMask\n    exerciseRefs, setExerciseRefs, // withExerciseMask\n    details\n  } = props\n  // state passed to this page\n\n  let { \n    word, form, info, searchCount, // word details\n    asExercise = false\n  } = newWordOrBookmark(location.state)\n\n  const verticalBuffer = <div style={{height: 8}} />\n  const subtitleRow = subtitle => (\n    <div className=\"WordDetailsSubtitleRow\">\n      <Typography variant=\"h3\">{subtitle}</Typography>\n    </div>\n  )\n  \n  // reveal the exercise fab if it is tagged as an exercise page\n  React.useEffect(() => {\n    if(asExercise) {\n      setShowExerciseFab(true)\n    }\n  }, [])\n\n  React.useEffect(() => {\n    const isBookmarked = getBookmark({ word, form })\n    let actionSheetOptions\n    if(!isBookmarked) {\n      actionSheetOptions = [{\n        iconName: 'library_add',\n        title: 'Add To Bookmark',\n        onClick: () => {\n          addBookmark({word, form, info})\n          setOpen(false)\n        }\n      }, {\n        iconName: 'edit',\n        title: 'Edit Word',\n        onClick: () => {\n          history.push({\n            pathname: '/edit',\n            state: {\n              adding: false,\n              info: {word, form, ...info}\n            }\n          })\n        }\n      }]\n    } else {\n      actionSheetOptions = [{\n        iconName: 'delete',\n        title: 'Remove Bookmark',\n        onClick: () => {\n          removeBookmark({word, form })\n          setOpen(false)\n        }\n      }]\n    }\n    const ActionSheetComponents = actionSheetOptions.map(ActionSheetOption)\n    setActionSheetComponents(ActionSheetComponents)\n  }, [bookmarks, open])\n\n  return (\n    <div className=\"WordDetailsContainer\">\n      <TopNavigation\n        leftButton={{\n          name: 'keyboard_arrow_left',\n          onClick: history.goBack\n        }}\n        rightButton={{\n          name: getBookmark({word, form})?'bookmark':'bookmark_outlined',\n          onClick: () => setOpen(!open)\n        }}\n        title={word} />\n      <div className=\"WordDetailsInnerContainer\">\n        <div className=\"WordDetailsRow\">\n          <div className=\"WordDetailsSumamryContainer\">\n            <Typography variant=\"h2\">\n              {word}\n            </Typography>\n            {verticalBuffer}\n            <Typography variant=\"h4\">\n              {form}\n            </Typography>\n          </div>\n          <div className=\"SearchCountContainer\">\n            <CounterBadge count={searchCount} />\n            {verticalBuffer}\n            <Typography variant=\"h5\">\n              Times Searched\n            </Typography>\n          </div>\n        </div>\n\n        <GrammarSection \n          \n          form={form} info={info} \n         />\n\n        <div className=\"WordDetailsRow\">\n          {subtitleRow(\"Meaning\")}\n        </div>\n        <div className=\"WordDetailsRow\">\n          <ol className=\"WordDetailsMeaningList\">\n            {\n              info.meaning.map(meaning => (\n                  <li className=\"WordDetailsMeaningItem\">{meaning.trim()}</li>\n              ))\n            }\n          </ol>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default withTheme(\n  withRouter(\n    withActionSheet(\n      withBookmarks(\n        withExerciseMask(WordDetails)\n      )\n    )\n  )\n)\n","import React from 'react'\nimport Drawer from '@material-ui/core/Drawer'\nimport './style.css'\n\nexport default function(WrappedComponent) {\n  return function({children, ...props}) {\n    const [open, setOpen] = React.useState(false)\n    const [actionSheetComponents, setActionSheetComponents ] = React.useState(null)\n\n    const DrawerComponent = () => (\n      <Drawer\n        anchor=\"bottom\"\n        open={open}\n        onClose={() => setOpen(false)}>\n        <div className=\"ActionSheetContainer\">\n          {actionSheetComponents}\n        </div>\n      </Drawer>\n    )\n    return [\n      <WrappedComponent\n        {...props}\n        setActionSheetComponents={setActionSheetComponents}\n        open={open} setOpen={setOpen}\n      />,\n      <DrawerComponent open={open} />\n    ]\n  }\n}\n","import React from 'react'\nimport TopNavigation from '../TopNavigation'\nimport { withRouter } from 'react-router-dom'\nimport withBookmarks from '../../backend/withBookmarks'\nimport CenterNotice from '../../components/CenterNotice'\nimport ShortWordCard from '../../components/ShortWordCard'\n\nimport './style.css'\n\nfunction BookmarkPage(props) {\n  const {\n    history,  // withRouter\n    bookmarks // withBookmarks\n  } = props\n  return (\n    <div className=\"BookmarkPage\">\n      <TopNavigation\n        title=\"Bookmarks\"\n      />\n      <div className=\"BookmarkPageInnerContainer\">\n        {!bookmarks.length &&\n          <CenterNotice\n            iconName=\"bookmark\"\n            title=\"You have no bookmarks\"\n          />\n        }\n        {bookmarks.map(bookmark => (\n          <ShortWordCard {...bookmark} />\n        ))}\n      </div>\n    </div>\n  )\n}\n\nexport default withBookmarks(withRouter(BookmarkPage))\n","import React from 'react'\nimport {\n  Icon, Button, TextField, Typography\n} from '@material-ui/core'\nimport Separator from '../../components/separator'\n\nexport default function({addMeaningItem}) {\n  const [addingMeaning, setAddingMeaning] = React.useState(false)\n  const [newMeaningValue, setNewMeaningValue] = React.useState('')\n  const updateNewMeaningValue = e => {\n    setNewMeaningValue(e.target.value)\n  }\n  const onAddMeaning = () => {\n    addMeaningItem(newMeaningValue)\n    setNewMeaningValue('')\n  }\n  React.useEffect(() => {\n    const field = document.getElementById('addMeaningField')\n    if(field)field.focus()\n  }, [newMeaningValue])\n  const AddMeaningComponent = () => (\n    <div\n      className=\"EditBookmarkAddMeaning\"\n      onClick={() => setAddingMeaning(true)}>\n      <Icon>add</Icon>\n      <Separator horizontal />\n      <Typography variant=\"h3\">Add Meaning...</Typography>\n    </div>\n  )\n\n  const AddMeaningFieldComponent = () => (\n    <div className=\"EditBookmarkAddMeaningField\">\n      <TextField\n        id=\"addMeaningField\"\n        placeholder=\"Some meanings about this word...\"\n        value={newMeaningValue}\n        onChange={updateNewMeaningValue}\n        label=\"Meaning\" />\n      <div className=\"EditBookmarkMeaningListItemContainerAction\">\n        <Button onClick={() => setAddingMeaning(false)}>\n          Cancel\n        </Button>\n        <Button\n          color=\"primary\"\n          disabled={!newMeaningValue}\n          onClick={onAddMeaning}>\n          Confirm\n        </Button>\n      </div>\n    </div>\n  )\n\n  return (\n    addingMeaning?\n    <AddMeaningFieldComponent />:\n    <AddMeaningComponent />\n  )\n}\n","import React from 'react'\nimport { withTheme } from '@material-ui/styles'\nimport Separator from '../../components/separator'\nimport AddMeaningComponent from './AddMeaningComponent'\n\nimport {\n  List, Typography, Icon,\n  ListItem,\n  TextField,\n  Button,\n  ExpansionPanel,\n  ExpansionPanelSummary,\n  ExpansionPanelDetails\n} from '@material-ui/core'\n\nfunction EditMeaningList({meanings = [], setMeanings, ...props }) {\n  const { theme } = props // withTheme\n  // control the index of which item expands\n  const [expandedIndex, setExpandedIndex] = React.useState(null)\n  const [addingMeaning, setAddingMeaning] = React.useState(false)\n  // handles the editing of particular meaning entry\n  const setMeaningItem = (i, newMeaning) => {\n    const newMeanings = [...meanings] // clone the old meanings\n    newMeanings[i] = newMeaning\n    setMeanings(newMeanings)\n    setExpandedIndex(null) // also close the panel\n  }\n\n  const removeMeaningItem = i => {\n    const newMeanings = [...meanings]\n    newMeanings.splice(i, 1)\n    setMeanings(newMeanings)\n  }\n\n  const addMeaningItem = meaning => {\n    setMeanings([...meanings, meaning])\n    setAddingMeaning(false)\n  }\n\n  return (\n    <div className=\"EditBookmarkMeaningList\">\n      <List dense={false}>\n        {meanings.map((meaning, i) => (\n          <ExpansionPanel\n            expanded={i === expandedIndex}\n            onChange={() => setExpandedIndex(expandedIndex === i?null:i)}\n            key={i}>\n            <ExpansionPanelSummary\n              classes={{\n                root: 'EditBookmarkMeaningListSummaryRoot',\n                content: 'EditBookmarkMeaningListSummaryContent'\n              }}\n              expansionIcon={<Icon>expand_more</Icon>}\n            >\n              <div className=\"EditBookmarkMeaningListItem\">\n                <div className=\"EditBookmarkMeaningListItemIndex\">\n                  <Typography variant=\"h4\">{i + 1}.</Typography>\n                </div>\n                <div className=\"EditBookmarkMeaningListItemText\">\n                  <Typography variant=\"h4\">\n                    { meaning }\n                  </Typography>\n                </div>\n                <div onClick={e => {e.stopPropagation();removeMeaningItem(i)}}\n                  className=\"EditBookmarkMeaningListItemRemove\">\n                  <Icon style={{color: 'red'}}>delete</Icon>\n                </div>\n              </div>\n            </ExpansionPanelSummary>\n            <ExpansionPanelDetails>\n              <div className=\"EditBookmarkMeaningListItemContainer\">\n                <TextField fullWidth\n                  id={`meaning-${i}`}\n                  defaultValue={meaning}\n                />\n                <div className=\"EditBookmarkMeaningListItemContainerAction\">\n                  <Button onClick={() => setExpandedIndex(null)}>Cancel</Button>\n                  <Button color=\"primary\"\n                    onClick={() => setMeaningItem(i, document.getElementById(`meaning-${i}`).value)}>\n                    Confirm\n                  </Button>\n                </div>\n              </div>\n            </ExpansionPanelDetails>\n          </ExpansionPanel>\n        ))}\n        <AddMeaningComponent addMeaningItem={addMeaningItem} />\n      </List>\n    </div>\n  )\n}\n\nexport default withTheme(EditMeaningList)\n","import React from 'react'\nimport { withRouter } from 'react-router-dom'\nimport withBookmarks from '../../backend/withBookmarks'\nimport TopNavigation from '../TopNavigation'\nimport EditBookmarkMeaningList from './EditMeaningList'\nimport { recognisedWordForms } from '../../backend/constants'\nimport Separator from '../../components/separator'\nimport {\n  TextField,\n  Typography,\n  Icon,\n  Fab,\n  Select, MenuItem, FormControl, InputLabel\n } from '@material-ui/core'\nimport './style.css'\nfunction EditBookmarkPage(props) {\n  const {\n    location, history, bookmarks,\n    getBookmark, addBookmark // withBookmarks\n   } = props\n  const { adding: isAdding = false, info = {meaning: []} } = location.state\n\n  const [editedWord, setEditedWord] = React.useState(info)\n  const [isWordValid, setWordValid] = React.useState(false)\n\n  const createBookmark = () => {\n    const { word, form, ...info } = editedWord\n    addBookmark({word, form, info})\n    history.goBack()\n  }\n  React.useEffect(() => {\n    const { word, form, meaning } = editedWord\n    if(\n      !word\n      || !!getBookmark(editedWord)\n      || recognisedWordForms.indexOf(form) === -1\n      || editedWord.meaning.length === 0) {\n      setWordValid(false)\n      return\n    }\n    setWordValid(true)\n  }, [editedWord])\n\n  const EditField = ({fieldName, label, className, ...props}) => (\n    <TextField\n      {...props}\n      className={`EditBookmarkTextField ${className || ''}`}\n      onBlur={e => setEditedWord({...editedWord, [fieldName]: e.target.value})}\n      defaultValue={editedWord[fieldName]}\n      label={label}\n    />\n  )\n\n  const verticalBuffer = <div style={{height: 8}} />\n  const subtitleRow = subtitle => (\n    <div className=\"WordDetailsSubtitleRow\">\n      <Typography variant=\"h3\">{subtitle}</Typography>\n    </div>\n  )\n\n  return (\n    <div className=\"EditBookmarkPage\">\n      <TopNavigation\n        leftButton={{\n          name: 'keyboard_arrow_left',\n          onClick: () => history.goBack()\n        }}\n        title={`${isAdding?\"Adding\":\"Editing\"} Bookmark`}\n      />\n      <div className=\"EditBookmarkPageInner\">\n        <div className=\"WordDetailsRow\">\n          <div className=\"WordDetailsSumamryContainer\">\n            <EditField fieldName=\"word\" label=\"word\" style={{width: '80%'}}/>\n            <Separator horizontal={false} />\n            <form>\n            <FormControl classes={{root: 'EditBookmarkSelectFormControl'}}>\n              <InputLabel htmlFor=\"formInput\">Word Form</InputLabel>\n              <Select\n                inputProps={{id: 'formInput'}}\n                placeholder=\"Form\"\n                onChange={e => setEditedWord({...editedWord, form: e.target.value})}\n                value={editedWord.form}>\n                {recognisedWordForms.map(form => (\n                  <MenuItem\n                    value={form}>{form}</MenuItem>\n                ))}\n              </Select>\n            </FormControl>\n            </form>\n          </div>\n        </div>\n        <div className=\"WordDetailsRow\">\n          {subtitleRow(\"Meaning\")}\n        </div>\n        <div className=\"WordDetailsRow\">\n          <EditBookmarkMeaningList\n            meanings={editedWord.meaning}\n            setMeanings={(newMeanings) => setEditedWord({...editedWord, meaning: newMeanings})}\n          />\n        </div>\n        <div className=\"WordDetailsRow\">\n          <Fab\n            disabled={!isWordValid}\n            variant=\"extended\" color=\"primary\"\n            onClick={createBookmark}\n            className=\"EditBookmarkPageSubmitButton\">\n            <Icon>bookmark</Icon>\n            <Separator horizontal />\n            <Typography variant=\"h3\">Add Bookmark</Typography>\n          </Fab>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default withRouter(\n  withBookmarks(EditBookmarkPage)\n)\n","import React from 'react'\nimport { withTheme } from '@material-ui/styles'\nimport { isEqual } from 'lodash'\nfunction PhotoWithBoxes(props) {\n  const {\n    photo, boxAndWords,\n    onBoxChosen,\n    theme // withTheme\n  } = props\n\n  const [hitBox, setHitBox] = React.useState(null)\n\n  const adjustBoxByRatio = (box, rX, rY) => {\n    const startX = box[0] * rX\n    const startY = box[1] * rY\n    const endX   = box[2] * rX + startX\n    const endY   = box[3] * rY + startY\n\n    return [startX, startY, endX, endY]\n  }\n  // function for drawing a rectangle on the canvas\n  const drawBox = (ctx, box, color) => {\n    ctx.beginPath()\n    ctx.lineWidth = \"1\"\n    ctx.strokeStyle = color\n    ctx.rect(...box)\n    ctx.stroke()\n  }\n  // function for finding which box is hit\n  const findHitBox = ({ x, y }, { rX, rY} ) => {\n    return boxAndWords.find(({box, word}) => {\n      const [startX, startY, endX, endY] = adjustBoxByRatio(box, rX, rY)\n      return (\n        startX <= x && x <= endX &&\n        startY <= y && y <= endY\n      )\n    })\n  }\n\n  // function for drawing the image and all the boxes on canvas\n  const drawImageAndBoxes = (canvas, ctx, image, hitBox = null) => {\n    // empty everything\n    ctx.clearRect(0, 0, canvas.width, canvas.height)\n\n    const rY = canvas.height / image.height\n    const rX = canvas.width / image.width\n\n    // add the image\n    ctx.drawImage(image,\n      0, 0, image.width, image.height, // source image dimension\n      0, 0, canvas.width, canvas.height, // canvas dimension\n    )\n    // add the boxes\n    boxAndWords.forEach(boxAndWord => {\n      const { box: rawBox, word } = boxAndWord\n      const box = adjustBoxByRatio(rawBox, rX, rY)\n      let strokeColor = 'red'\n\n      if(hitBox) {\n        const hitBoxAdjusted = adjustBoxByRatio(hitBox.box, rX, rY)\n        if(hitBoxAdjusted[0] == box[0] && hitBoxAdjusted[1] == box[1]) {\n          strokeColor = 'blue'\n        }\n      }\n\n      drawBox(ctx, [\n        box[0],\n        box[1],\n        box[2] - box[0],\n        box[3] - box[1]\n      ], strokeColor)\n    })\n  }\n\n  React.useEffect(() => {\n    const canvas = document.getElementById('OCRResult')\n    if(!canvas) return\n    const ctx = canvas.getContext('2d')\n    const image = new Image()\n\n    image.onload = () => {\n      const paddingSize = 20 * 2\n      // setup dimension\n      // canvas.width = window.innerWidth\n      canvas.height = window.innerHeight * 0.5\n      canvas.width = canvas.height * image.width / image.height\n      // canvas.height = image.height - paddingSize\n      // canvas.width = image.width - paddingSize // padding\n      const rY = canvas.height / image.height\n      const rX = canvas.width / image.width\n\n      // when the image just loaded on canvas, draw it as well as other bounding boxes\n      drawImageAndBoxes(canvas, ctx, image)\n\n      // when the user touches the canvas, find out which box is hit, set hitbox with that\n      canvas.addEventListener('mouseup', async e => {\n        // https://stackoverflow.com/questions/55677/how-do-i-get-the-coordinates-of-a-mouse-click-on-a-canvas-element\n        const rect = canvas.getBoundingClientRect()\n        const x = e.clientX - rect.left\n        const y = e.clientY - rect.top\n\n        const foundHitBox = findHitBox({ x, y }, { rX, rY })\n\n        await setHitBox(foundHitBox)\n        drawImageAndBoxes(canvas, ctx, image, foundHitBox)\n        onBoxChosen && onBoxChosen(foundHitBox)\n      })\n    }\n    // load the photo\n    image.src = photo\n  }, [boxAndWords, photo])\n\n\n  return (\n    <div className=\"OCRSelectWordPagePhotoWithBoxesWrapper\">\n      <canvas id=\"OCRResult\" className=\"OCRResultCanvas\" />\n    </div>\n  )\n}\n\nexport default withTheme(PhotoWithBoxes)\n","import React from 'react'\nimport { withRouter } from 'react-router-dom'\nimport {\n  Typography,\n  CircularProgress,\n  Icon\n} from '@material-ui/core'\nimport Separator from '../../../components/separator'\nimport { withServerConfig } from '../../../reducers/config'\nimport './style.css'\n\nfunction OCRSuggestions(props) {\n  const {\n    word,\n    suggestionState,\n    serverURL, // withServerConfig\n    history // withRouter\n   } = props\n\n  const [suggestions, setSuggestions] = React.useState(null)\n  const [loading, setLoading ] = React.useState(true) // when this page loads, it is loading suggestions\n\n  React.useEffect(() => {\n    const fetchSuggestions = async () => {\n      await setLoading(true)\n      const response = await fetch(`${serverURL}/closest/${word}`)\n      const payload = await response.json()\n      await setLoading(false)\n      await setSuggestions(payload.suggestions)\n    }\n\n    fetchSuggestions()\n  }, [word])\n\n  const SuggestionRow = ({word}) => (\n    <div className=\"OCRSuggestionRow\" onClick={() => history.push({\n      pathname: `/search/${word}`,\n      state: suggestionState\n    })}>\n      <Typography variant=\"h4\">{word}</Typography>\n      <Icon>keyboard_arrow_right</Icon>\n    </div>\n  )\n  return (\n    <div className=\"OCRSuggestions\">\n      <div className=\"OCRSuggestionsHeaderRow\">\n        <Typography variant=\"h2\">\"{word}\"</Typography>\n      </div>\n      <div className=\"OCRSuggestionsInner\">\n        {loading && (\n            <div className=\"OCRSuggestionsLoadingComponent\">\n              <CircularProgress color=\"primary\" />\n              <Separator size={16} />\n              <Typography variant=\"h3\">Looking up similar words...</Typography>\n            </div>\n          )\n        }\n        {\n          (suggestions && (suggestions.length > 0) && !loading) &&\n          suggestions.map(sugg => <SuggestionRow word={sugg} />)\n        }\n      </div>\n    </div>\n  )\n}\n\nexport default withRouter(\n  withServerConfig(OCRSuggestions)\n)\n","import React from 'react'\nimport TopNavigation from '../TopNavigation'\nimport PhotoWithBoxes from './PhotoWithBoxes'\nimport CenterNotice from '../../components/CenterNotice'\nimport OCRSuggestions from './OCRSuggestions'\nimport { withRouter } from 'react-router-dom'\nimport { withTheme } from '@material-ui/styles'\nimport './style.css'\nfunction OCRSelectWordPage(props) {\n  const {\n    history, location, // withRouter\n    theme, // withTheme\n  } = props\n\n  // format of selected word: { word, image: image_patch }\n  const [selectedWord, setSelectedWord] = React.useState(null)\n\n  const {\n    state: { boxAndWords, photo } = {}\n  } = location\n\n  return (\n    <div className=\"OCRSelectWordPage\">\n      <TopNavigation\n        title=\"Choose words to add\"\n        withBackButton\n      />\n\n      <div className=\"OCRSelectWordPageInner\">\n        <PhotoWithBoxes\n          photo={photo}\n          boxAndWords={boxAndWords}\n          onBoxChosen={setSelectedWord}\n        />\n        <div className=\"OCRSelectWordBoxPreviewContainer\">\n          {!selectedWord?(\n              <CenterNotice\n                iconName=\"edit\"\n                title=\"Click boxes above to see closest match of this word\"\n              />\n            ):(\n              <OCRSuggestions\n                suggestionState={location.state}\n                word={selectedWord && selectedWord.word}/>\n            )\n          }\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default withRouter(\n  withTheme(OCRSelectWordPage)\n)\n","import React from 'react'\nimport { withServerConfig } from '../../reducers/config'\nimport { withTheme } from '@material-ui/styles'\nimport withSnackbar from '../../backend/withSnackbar'\n\nimport TopNavigation from '../TopNavigation'\nimport Separator from '../../components/separator'\nimport {\n  Typography,\n  TextField,\n  Fab,\n  Icon\n} from '@material-ui/core'\n\nimport './style.css'\n\nfunction ConfigPage(props) {\n  const {\n    theme, // withTheme\n    serverURL: defaultServerURL,\n    proxyURL: defaultProxyURL,\n    setOpenSnackbar, setSnackbarConfig, // withSnackbar\n    setConfig // withServerConfig\n  } = props\n\n  const [tempConfig, setTempConfig] = React.useState({\n    serverURL: defaultServerURL,\n    proxyURL: defaultProxyURL\n  })\n\n  const validateTempConfig = () => {\n    const { serverURL, proxyURL } = tempConfig\n    if(\n      !serverURL.startsWith('http') ||\n      !proxyURL.startsWith('http') ||\n      !serverURL || !proxyURL\n    ) return false\n\n    return true\n  }\n  const [isConfigValid, setIsConfigValid] = React.useState(false)\n\n  const onConfirmSetConfig = async () => {\n    await setConfig(tempConfig)\n    await setSnackbarConfig({\n      title: 'The new config has been saved',\n      icon: 'check',\n      style: {\n        color: 'white',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        width: '100%',\n        backgroundColor: theme.palette.warning.main\n      },\n      anchorOrigin: {\n         vertical: 'bottom',\n         horizontal: 'left',\n       }\n\n    })\n    setOpenSnackbar(true)\n    setTimeout(() => setOpenSnackbar(false), 2000)\n  }\n  React.useEffect(() => {\n    // validate here\n    setIsConfigValid(validateTempConfig())\n  }, [tempConfig])\n  return (\n    <div className=\"ConfigPage\">\n      <TopNavigation\n        title=\"Settings\"\n      />\n      <div className=\"ConfigPageInner\">\n        <TextField\n          label=\"Proxy URL\"\n          onChange={e => setTempConfig({\n            ...tempConfig, proxyURL: e.target.value\n          }) || e.target.focus()}\n          value={tempConfig.proxyURL}\n          placeholder=\"Address of the Proxy Server\"\n        />\n        <Separator size={16} />\n        <TextField\n          label=\"OCR Server URL\"\n          onChange={e => setTempConfig({\n            ...tempConfig, serverURL: e.target.value\n          }) || e.target.focus()}\n          value={tempConfig.serverURL}\n          placeholder=\"Address of the OCR Server\"\n        />\n        <div style={{flex: 1}} />\n        <Fab variant=\"extended\" color=\"primary\"\n          disabled={!isConfigValid}\n          onClick={onConfirmSetConfig}>\n          <Icon>save</Icon>\n          <Separator horizontal />\n          <Typography variant=\"h3\">Save Settings</Typography>\n        </Fab>\n        <Separator size={16} />\n      </div>\n    </div>\n  )\n}\n\nexport default withTheme(\n  withServerConfig(\n    withSnackbar(ConfigPage)\n  )\n)\n","import React from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { withTheme } from '@material-ui/styles'\n\nimport TopNavigation from '../TopNavigation'\nimport CenterNotice from '../../components/CenterNotice'\n\nimport './style.css'\nfunction ActivityPage(props) {\n  const { theme, history } = props\n  return (\n    <div className=\"ActivityPage\">\n      <TopNavigation\n        title=\"Activity\"\n      />\n      <div className=\"ActivityPageInner\">\n        <CenterNotice\n          title=\"Coming soon!\"\n          iconName=\"bar_chart_outlined\"\n        />\n      </div>\n    </div>\n  )\n}\n\nexport default withTheme(\n  withRouter(ActivityPage)\n)\n","import  { combineReducers } from 'redux'\nimport search from './search'\nimport bookmark from './bookmark'\nimport config from './config'\n\nexport default combineReducers({\n  search,\n  bookmark,\n  config\n})\n","import { createStore } from 'redux'\nimport { persistStore, persistReducer } from 'redux-persist'\nimport storage from 'redux-persist/lib/storage' // defaults to localStorage for web\n\nimport rootReducer from './reducers'\n\nconst persistConfig = {\n  key: 'root',\n  storage,\n}\n\nconst persistedReducer = persistReducer(persistConfig, rootReducer)\n\nexport default () => {\n  let store = createStore(persistedReducer)\n  let persistor = persistStore(store)\n  return { store, persistor }\n}\n","import React from 'react';\nimport './App.css';\nimport {\n  BrowserRouter as Router,\n  Route\n} from \"react-router-dom\";\nimport BottomNavigation from './pages/BottomNavigation'\nimport OfflineBanner from './pages/OfflineBanner'\n\nimport theme from './theme'\nimport { ThemeProvider } from '@material-ui/styles';\n\nimport SearchPage from './pages/SearchPage';\nimport SearchResultPage from './pages/SearchResultPage';\nimport WordDetailsPage from './pages/WordDetails';\nimport BookmarkPage from './pages/BookmarkPage';\nimport EditBookmarkPage from './pages/EditBookmarkPage';\nimport OCRSelectWordPage from './pages/OCRSelectWordPage';\nimport ConfigPage from './pages/ConfigPage';\nimport ActivityPage from './pages/ActivityPage';\n\nimport { PersistGate } from 'redux-persist/integration/react'\nimport configureStore from './configureStore'\nimport { Provider } from 'react-redux'\nconst { store, persistor } = configureStore()\n\n\n\nclass App extends React.Component {\n  render() {\n    return (\n\n        <ThemeProvider theme={theme}>\n          <Provider store={store}>\n            <Router basename=\"/GermanHelper-v2\">\n            <PersistGate loading={null} persistor={persistor}>\n              <div className=\"App\">\n                  <div className=\"MainContent\">\n                    <Route path='/search' component={SearchResultPage} />\n                    <Route path=\"/wordDetails\" component={WordDetailsPage} />\n                    <Route path=\"/words\" component={BookmarkPage} />\n                    <Route path=\"/edit\" component={EditBookmarkPage} />\n                    <Route path=\"/ocr\" component={OCRSelectWordPage} />\n                    <Route path=\"/settings\" component={ConfigPage} />\n                    <Route path=\"/activity\" component={ActivityPage} />\n                    <Route exact path=\"/\" component={SearchPage} />\n                </div>\n\n                <OfflineBanner />\n                <BottomNavigation />\n              </div>\n            </PersistGate>\n            </Router>\n          </Provider>\n        </ThemeProvider>\n\n\n    )\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\nwindow.addEventListener(\"load\",function() {\n\t// Set a timeout...\n\tsetTimeout(function(){\n\t\t// Hide the address bar!\n\t\twindow.scrollTo(0, 1);\n\t}, 0);\n});\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}