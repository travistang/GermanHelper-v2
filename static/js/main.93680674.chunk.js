(window["webpackJsonpgermanhelper-v2"]=window["webpackJsonpgermanhelper-v2"]||[]).push([[0],{103:function(e,t,a){},104:function(e,t,a){},105:function(e,t,a){},106:function(e,t,a){},111:function(e,t,a){},112:function(e,t,a){},114:function(e,t,a){},116:function(e,t,a){},117:function(e,t,a){},119:function(e,t,a){},120:function(e,t,a){},121:function(e,t,a){},123:function(e,t,a){},124:function(e,t,a){},125:function(e,t,a){},126:function(e,t,a){},127:function(e,t,a){},128:function(e,t,a){},129:function(e,t,a){},131:function(e,t,a){},132:function(e,t,a){},133:function(e,t,a){},134:function(e,t,a){},135:function(e,t,a){},136:function(e,t,a){},137:function(e,t,a){},140:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(10),c=a.n(o),i=(a(103),a(37)),l=a(29),s=a(55),u=a(56),m=a(65),d=(a(104),a(23)),f=a(40),h=(a(105),a(174)),v=a(141),p=(a(106),a(177));var b=Object(f.e)(Object(p.a)((function(e){var t=e.theme,a=e.iconName,n=e.label,o=e.href,c=e.location,i=e.history,l=o===c.pathname?"primary":"grey1",s=t.palette[l].main;return r.a.createElement("div",{className:"TabButton",onClick:function(){c.href!==o&&i.push(o)},style:{color:s}},r.a.createElement(h.a,{color:s},a),r.a.createElement(v.a,{variant:"h4",color:s},n))}))),g=a(142),E=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).buttons=[{iconName:"search_outlined",label:"Search",href:"/"},{iconName:"bookmark",label:"Bookmarks",href:"/words"},{iconName:"bar_chart_outlined",label:"Activities",href:"/activity"},{iconName:"settings_applications_outlined",label:"Settings",href:"/settings"}],a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"BottomNavigationContainer"},this.buttons.map((function(e){return r.a.createElement(b,e)})))}}]),t}(r.a.Component),O=Object(g.a)(E),y=a(61),k=(a(111),function(e){return r.a.createElement(y.Offline,null,r.a.createElement("div",{className:"OfflineBanner"},r.a.createElement(h.a,null,"warning"),r.a.createElement("div",{style:{width:8}}),r.a.createElement(v.a,{variant:"h3"},"You are offline.")))}),w=a(86),j=Object(w.a)({palette:{primary:{main:"#1364A6"},secondary:{main:"#F5A623"},info:{main:"#D0DDE8"},warning:{main:"#57a757"},grey1:{main:"#898888"},grey2:{main:"#8E8E93"},white:{main:"#FFFFFF"},black:{main:"#000000"}},typography:{fontFamily:['"Noto Sans"',"sans-serif"].join(","),h1:{fontSize:24,fontWeight:"bold"},h2:{fontSize:18,fontWeight:"bold"},h3:{fontSize:14,fontWeight:"bold"},h4:{fontSize:14},h5:{fontSize:12,fontWeight:"light"}}}),S=a(190),C=(a(112),a(28)),N=a(6),x=(a(114),a(184)),R=a(11),P=a.n(R),B=a(21),W=a(194),A=a(178),D=a(87),L=a(193),_=a(2),I=a(79),M=a.n(I),T=(a(116),function(e){var t=e.word,a=e.highlightWord,n=Object(_.a)(e,["word","highlightWord"]);return r.a.createElement(M.a,Object.assign({},n,{highlightClassName:"MuiTypography-h4 HighlightText",unhighlightClassName:"MuiTypography-h4",searchWords:[a],autoEscape:!0,textToHighlight:t}))});a(117);var F=Object(g.a)((function(e){var t=e.theme,a=e.iconName,n=e.title,o=e.subtitle,c=void 0===o?"":o,i=e.className;return Object(_.a)(e,["theme","iconName","title","subtitle","className"]),r.a.createElement("div",{className:"CenterNotice ".concat(i||""),style:{color:t.palette.grey2.main}},r.a.createElement(h.a,{className:"CenterNoticeIcon"},a),r.a.createElement(v.a,{variant:"h3"},n),r.a.createElement(v.a,{variant:"h4"},c))})),U=a(9),G=a(44);function H(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function z(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?H(a,!0).forEach((function(t){Object(U.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):H(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var V="ADD_BOOKMARK",K="REMOVE_BOOKMARK",Y={bookmarks:[]};function J(e,t){return e.word===t.word&&e.form===t.form}var q=function(e,t){var a=t.form,n=t.word,r=e.filter((function(e){return e.form===a&&e.word===n}))[0];return r?{found:r,bookmarks:e.filter((function(e){return!J(e,r)}))}:{found:null,bookmarks:e}};function X(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Q(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?X(a,!0).forEach((function(t){Object(U.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):X(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function $(e,t){return e.filter((function(e){return J(e,t)}))[0]}var Z=function(e){return Object(C.b)((function(e){return e.bookmark}),(function(e){return{addBookmark:function(t){return e({type:V,word:t})},removeBookmark:function(t){return e({type:K,word:t})}}}))((function(t){var a=t.bookmarks,n=Object(_.a)(t,["bookmarks"]);return r.a.createElement(e,Object.assign({},n,{bookmarks:a,newWordOrBookmark:function(e){return function(e,t){var a=t.word,n=t.form,r=t.info,o=Object(_.a)(t,["word","form","info"]),c=$(e,{word:a,form:n});return Q(c?{word:a,info:c.info,form:n}:{word:a,form:n,info:r},o)}(a,e)},getBookmark:function(e){return $(a,e)}}))}))},ee=["Adjective","Noun","Verb","Adverb","Preposition","Phrase"],te="norminative,accusative,dative,genitive".split(",");var ae=Object(f.e)(Object(g.a)(Z((function(e){var t=e.open,a=e.history,n=e.suggestions,o=void 0===n?{}:n,c=e.anchorEl,i=e.searching,l=e.getBookmark,s=e.searchWord,u=e.onSelectWord;return r.a.createElement(A.a,{id:"SuggestionsContainer",open:t,anchorEl:c},r.a.createElement(D.a,{square:!0,style:{width:c?c.clientWidth:void 0}},i&&r.a.createElement(F,{className:"SearchSuggestionCenterNotice",iconName:"search",title:"Searching..."}),!i&&Object.keys(o).map((function(e){return r.a.createElement(L.a,{key:e,component:"div",onClick:function(){return u(e)}},r.a.createElement(T,{word:e,highlightWord:s}),ee.some((function(t){return!!l({word:e,form:t})}))&&r.a.createElement(h.a,{color:"primary"},"bookmark"))})),!i&&r.a.createElement("div",{onClick:function(){return a.push({pathname:"/edit",state:{adding:!0,info:{word:s}}})},className:"SuggestionsContainerAddWordRow"},r.a.createElement(h.a,null,"add"),r.a.createElement("div",{style:{width:8}}),r.a.createElement(v.a,{variant:"h3"},"Add a word"))))})))),ne=a(17),re=a(70),oe=a.n(re);function ce(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ie(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ce(a,!0).forEach((function(t){Object(U.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ce(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var le=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Object(i.a)(this,e),t&&(this.baseURL="".concat(t,"/wiki"),this.apiURL="".concat(t,"/w/api.php"))}return Object(l.a)(e,[{key:"fetchJSON",value:function(){var e=Object(B.a)(P.a.mark((function e(t){var a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getSearchAutoCompleteSuggestion",value:function(){var e=Object(B.a)(P.a.mark((function e(t){var a,n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(this.apiURL,"?action=opensearch&limit=5&search=").concat(encodeURIComponent(t)),e.next=3,this.fetchJSON(a);case 3:if(4===(n=e.sent).length){e.next=6;break}throw new Error;case 6:return e.abrupt("return",Object.assign.apply(Object,[{}].concat(Object(ne.a)(Object(G.range)(n[1].length).map((function(e){return Object(U.a)({},n[1][e],n[3][e])}))))));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getPageContent",value:function(){var e=Object(B.a)(P.a.mark((function e(t){var a,n,r,o;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(this.baseURL,"/").concat(t),e.next=3,fetch(a);case 3:return n=e.sent,e.next=6,n.text();case 6:return r=e.sent,e.prev=7,o=oe()(r),e.abrupt("return",o);case 12:return e.prev=12,e.t0=e.catch(7),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,this,[[7,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"doesWordExists",value:function(e){return e.find("a[href='/wiki/Wiktionary:Requested_entries']").length<2}},{key:"getGermanSection",value:function(e){return this.isGermanWord(e)?e.find('h2:has(span[id="German"])').next().children():null}},{key:"getWordFormSection",value:function(e,t){var a=e.end().find("h3:has(span:contains(".concat(t,")),h4:has(span:contains(").concat(t,"))"));return 0===a.length?null:a.first().nextUntil("h3,h4")}},{key:"isGermanWord",value:function(e){return 1===e.find('span[id="German"]').length}},{key:"getQualifier",value:function(e){var t=e.end().next("p:has(span.ib-content)").text().trim().toLowerCase();for(var a in te)if(-1!==t.indexOf(te[a]))return te[a]}},{key:"getMeaning",value:function(e){return e.next("ol").children("li").map((function(){return oe()(this).clone().children(":not(a, i, span)").remove().end().text().trim()})).get()}},{key:"getGender",value:function(e){return e.find('abbr[title*="gender"]').text()[0]}},{key:"getNounDeclension",value:function(e){var t=e.end().next("p:has(span)");if(0===t.length)return{};var a={},n=t.find("i:contains(plural)").next().text(),r=t.find("i:contains(genitive)").next().text();return a.plural=n,a.genitive=r,a}},{key:"getAuxillaryVerb",value:function(e){return e.end().next("p").find("i:contains(auxiliary)").next().text()}},{key:"getTense",value:function(e){var t={},a=e.end().next("p");return t.past_participle=a.find("i:contains(participle)").next().text(),t.third_person_singular=a.find("i:contains(third):contains(singular)").next().text(),t.past_tense=a.find("i:contains(past tense)").next().text(),t}},{key:"getAdjectiveComparatives",value:function(e){var t=e.end().next("p");return{comparative:t.find("i:contains(comparative)").next().text(),superlative:t.find("i:contains(superlative)").next().text()}}},{key:"getWordInfo",value:function(){var e=Object(B.a)(P.a.mark((function e(t){var a,n,r,o=this;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getPageContent(t);case 2:if(a=e.sent,n=this.getGermanSection(a)){e.next=6;break}return e.abrupt("return",null);case 6:if(r={},ee.forEach((function(e){var t=o.getWordFormSection(n,e);if(t)switch(r[e]={},r[e].meaning=o.getMeaning(t),e){case"Adjective":r[e]=ie({},r[e],{},o.getAdjectiveComparatives(t));break;case"Verb":r[e].auxillary=o.getAuxillaryVerb(t),r[e].tense=o.getTense(t);break;case"Noun":r[e].gender=o.getGender(t),r[e].declension=o.getNounDeclension(t);break;case"Preposition":r[e].qualifier=o.getQualifier(t)}else r[e]=null})),0!==Object.keys(r).length){e.next=10;break}return e.abrupt("return",null);case 10:return e.abrupt("return",r);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function se(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ue(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?se(a,!0).forEach((function(t){Object(U.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):se(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var me={ADD_SEARCH:"ADD_SEARCH",CLEAR_SEARCH:"CLEAR_SEARCH"},de={rawSearches:[],searches:[]};function fe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function he(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?fe(a,!0).forEach((function(t){Object(U.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):fe(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ve={SET_CONFIG:"SET_CONFIG"},pe={proxyURL:"http://localhost:8989",serverURL:"http://localhost:8080/ocr"};function be(e){return Object(C.b)((function(e){return e.config}),(function(e){return{setConfig:function(t){var a=t.serverURL,n=t.proxyURL;return e({type:ve.SET_CONFIG,serverURL:a,proxyURL:n})}}}))(e)}var ge,Ee=(ge=function(e){var t=e.wiktionary,a=e.onSearchTermChange,n=r.a.useState(""),o=Object(N.a)(n,2),c=o[0],i=o[1],l=r.a.useState({}),s=Object(N.a)(l,2),u=s[0],m=s[1],d=r.a.useState(null),f=Object(N.a)(d,2),h=f[0],v=f[1],p=r.a.useState(null),b=Object(N.a)(p,2),g=b[0],E=b[1],O=r.a.useState(null),y=Object(N.a)(O,2),k=y[0],w=y[1];return r.a.createElement("div",{className:"SearchFormInput"},r.a.createElement(W.a,{style:{flex:1},onClick:function(e){return v(e.currentTarget)},onChange:function(e){return a=e.target.value,i(a),clearTimeout(k),E(!0),void w(setTimeout(Object(B.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=m,e.next=3,t.getSearchAutoCompleteSuggestion(a);case 3:e.t1=e.sent,(0,e.t0)(e.t1),E(!1);case 6:case"end":return e.stop()}}),e)}))),500));var a},value:c,label:"Search Words"}),r.a.createElement(ae,{open:!!h&&!!c,anchorEl:h,searchWord:c,searching:g,onSelectWord:function(e){i(e),v(null),m({}),a(e)}.bind(this),suggestions:u}))},be((function(e){var t=e.proxyURL,a=new le(t);return r.a.createElement(ge,Object.assign({},e,{wiktionary:a}))}))),Oe=function(e){return function(t){return r.a.createElement(y.Detector,{render:function(a){var n=a.online;return r.a.createElement(e,Object.assign({},t,{online:n}))}})}};var ye=Object(f.e)(Oe((function(e){var t=e.online,a=r.a.useState(""),n=Object(N.a)(a,2),o=n[0],c=n[1];return r.a.createElement("div",{className:"SearchFormGroup"},r.a.createElement(Ee,{onSearchTermChange:c.bind(this)}),r.a.createElement(x.a,{disabled:!t||!o||!o.length,onClick:function(){e.history.push("/search/".concat(o))}.bind(this),variant:"extended",color:"secondary",className:"SearchButton"},r.a.createElement(h.a,null,"search_outlined"),r.a.createElement(v.a,{variant:"h3"},"Search")))})));a(119);var ke=Object(g.a)((function(e){var t=e.count,a=void 0===t?0:t,n=e.className,o=e.theme,c=Object(_.a)(e,["count","className","theme"]);return r.a.createElement("div",Object.assign({},c,{className:"CounterBadge ".concat(n),style:{backgroundColor:o.palette.primary.main}}),r.a.createElement(v.a,{variant:"h3",color:"white"},a))}));a(120);var we=Object(f.e)(Object(g.a)((function(e){var t=e.info,a=e.word,n=e.form,o=e.searchCount,c=e.theme,i=e.className,l=e.history,s=e.canClick,u=void 0===s||s,m="",d="",f=t.meaning.join(";").replace(/\(.*?\)/,""),h=function(e){return e||" - "};switch(n){case"Adjective":d="adj.",m="".concat(h(t.comparative)," | ").concat(h(t.superlative));break;case"Noun":d="n.",m="".concat(h("".concat(t.gender,"."))," | ").concat(h(t.declension.plural));break;case"Verb":d="v.",m="".concat(h(t.auxillary)," | ").concat(h(t.tense.past_participle));break;case"Preposition":d="prep.";break;case"Adverb":d="adv."}return r.a.createElement("div",{className:"ShortWordCardContainer ".concat(i),onClick:u&&function(){return l.push({pathname:"/wordDetails",state:{info:t,form:n,word:a,searchCount:o}})}},r.a.createElement("div",{className:"ShortWordLeftContainer"},r.a.createElement("div",{className:"ShortWordHeadRow"},r.a.createElement(v.a,{variant:"h3"}," ",a," "),r.a.createElement("div",{style:{width:8}}),r.a.createElement(v.a,{variant:"h4"}," (",d,") ")),r.a.createElement("div",{className:"ShortWordHeadRow"},r.a.createElement(v.a,{variant:"h4",style:{color:c.palette.grey2.main}},h(m))),r.a.createElement("div",{className:"ShortWordHeadRow"},r.a.createElement(v.a,{variant:"h5",style:{color:c.palette.grey2.main}},h(f)))),r.a.createElement(ke,{count:o}))}))),je=a(81),Se=a.n(je),Ce=a(197),Ne=a(185),xe=function(e){var t=e.horizontal,a=void 0!==t&&t,n=e.size,o=void 0===n?8:n;return r.a.createElement("div",{style:Object(U.a)({},a?"width":"height",o)})},Re=(a(121),function(e){return function(t){var a=r.a.useState(!1),n=Object(N.a)(a,2),o=n[0],c=n[1],i=r.a.useState({}),l=Object(N.a)(i,2),s=l[0],u=l[1],m=s.title,d=s.icon,f=s.style;Object(_.a)(s,["title","icon","style"]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(e,Object.assign({setOpenSnackbar:c,setSnackbarConfig:u},t)),r.a.createElement(Ce.a,{variant:"primary",open:o},r.a.createElement(Ne.a,{style:f,message:r.a.createElement("div",{className:"SnackbarContainer"},r.a.createElement(h.a,null,d),r.a.createElement(xe,{horizontal:!0,size:16}),r.a.createElement(v.a,{variant:"h3"},m))})))}}),Pe=(a(122),a(123),a(186)),Be=a(187);a(124);var We=Object(C.b)((function(e){return e.search}),null)(Object(g.a)(Object(f.e)(Oe(function(e){return Object(g.a)(be(Re((function(t){var a=t.serverURL,n=t.theme,o=t.setSnackbarConfig,c=t.setOpenSnackbar,i=r.a.useRef(null),l=r.a.useState(!1),s=Object(N.a)(l,2),u=s[0],m=s[1],d=r.a.useState(null),f=Object(N.a)(d,2),p=f[0],b=f[1],g=r.a.useState(null),E=Object(N.a)(g,2),O=E[0],y=E[1],k=r.a.useState(!1),w=Object(N.a)(k,2),j=w[0],S=w[1],C=function(){var e=Object(B.a)(P.a.mark((function e(t){var r,i,l;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(t),m(!1),S(!0),r=t.replace(/^data:image\/jpeg;base64,/,""),(i=new FormData).append("image",r),e.next=8,fetch(a,{method:"POST",mode:"cors",body:i});case 8:return l=e.sent,e.prev=9,e.t0=y,e.next=13,l.json();case 13:e.t1=e.sent,(0,e.t0)(e.t1),e.next=22;break;case 17:e.prev=17,e.t2=e.catch(9),o({title:"Cannot reach OCR Server",icon:"warning",style:{color:"white",display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",backgroundColor:n.palette.secondary.main},anchorOrigin:{vertical:"bottom",horizontal:"left"}}),c(!0),setTimeout((function(){return c(!1)}),3e3);case 22:S(!1);case 23:case"end":return e.stop()}}),e,null,[[9,17]])})));return function(t){return e.apply(this,arguments)}}();return u?r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{onClick:function(){return m(!1)},className:"CameraBackButton"},"keyboard_arrow_left"),r.a.createElement("div",{className:"CameraViewWrapper"},r.a.createElement(Se.a,{width:"100%",height:"70%",ref:i,audio:!1,screenshotFormat:"image/jpeg",onTakePhoto:C,videoConstraints:{facingMode:"environment"}}),r.a.createElement("div",{className:"CameraHelpText"},r.a.createElement(v.a,{variant:"h3",style:{color:"white"}},"Point your camera towards some German texts and click the button below.")),r.a.createElement("div",{className:"CameraShootButtonRow",onClick:function(){return C(i.current.getScreenshot())}},r.a.createElement("div",{className:"CameraShootButton",style:{backgroundColor:n.palette.primary.main}},r.a.createElement(h.a,{color:"white"},"photo_camera"))))):r.a.createElement(e,Object.assign({},t,{boxAndWords:O,recognizing:j,photo:p,launchCamera:function(){return m(!0)}}))}))))}(function(e){return function(t){var a=r.a.useState(!1),n=Object(N.a)(a,2),o=n[0],c=n[1],i=r.a.useState(null),l=Object(N.a)(i,2),s=l[0],u=l[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(e,Object.assign({},t,{setShowProgress:c,setProgressTitle:u})),r.a.createElement(Pe.a,{open:o},r.a.createElement("div",{className:"CircularProgressContainer"},r.a.createElement(Be.a,{color:"primary"}),r.a.createElement(v.a,{variant:"h3"},s))))}}((function(e){var t=e.theme,a=e.searches,n=e.online,o=e.history,c=e.photo,i=e.launchCamera,l=e.recognizing,s=e.boxAndWords,u=e.setShowProgress,m=e.setProgressTitle;return r.a.useEffect((function(){m("Detecting text..."),u(l)}),[l]),r.a.useEffect((function(){s&&c&&o.push({pathname:"/ocr",state:{boxAndWords:s,photo:c}})}),[s]),r.a.createElement("div",{style:{backgroundColor:t.palette.primary.main},className:"SearchPageMain"},r.a.createElement("div",{className:"SearchPageTop"},r.a.createElement((function(){return r.a.createElement("div",{style:{color:n?"white":"rgba(255, 255, 255, 0.3)"}},r.a.createElement(h.a,{onClick:n&&i,color:"white",style:{fontSize:36}},"photo_camera"))}),null),r.a.createElement("div",{style:{flex:1}},r.a.createElement(v.a,{variant:"h1",style:{marginBottom:8,color:t.palette.white.main}},"German Helper"),r.a.createElement(v.a,{variant:"h3",style:{color:t.palette.grey2.main}},"Search words or phrases below..."))),r.a.createElement("div",{style:{backgroundColor:t.palette.white.main},className:"SearchPageBottom"},r.a.createElement(ye,null),r.a.createElement("div",{className:"SearchResultGroup"},r.a.createElement(v.a,{variant:"h2"},"Recently Searched"),r.a.createElement("div",{style:{height:28}}),a.length?r.a.createElement("div",{className:"SearchResultList"},a.reverse().map((function(e){return r.a.createElement(we,e)}))):r.a.createElement(F,{iconName:"search_outlined",title:"You did not search anything recently"}))))})))))));a(125);var Ae=Object(g.a)(Object(f.e)((function(e){var t=e.title,a=e.leftButton,n=e.rightButton,o=e.withBackButton,c=e.history;return r.a.createElement("div",{style:{backgroundColor:e.theme.palette.primary.main},className:"TopNavigationContainer"},r.a.createElement("div",{className:"TopNavigationButtonContainer"},a&&!o&&r.a.createElement(h.a,{onClick:a.onClick},a.name),o&&r.a.createElement(h.a,{onClick:c.goBack},"keyboard_arrow_left")),r.a.createElement(v.a,{variant:"h3"},t),r.a.createElement("div",{className:"TopNavigationButtonContainer"},n&&r.a.createElement(h.a,{onClick:n.onClick},n.name)))}))),De=a(82);a(126);var Le=function(e){return Object(C.b)(null,(function(e){return{addSearch:function(t){return e({type:me.ADD_SEARCH,search:t})}}}))(be((function(t){var a=t.location,n=t.addSearch,o=t.proxyURL,c=Object(_.a)(t,["location","addSearch","proxyURL"]),i=new le(o);if(!a)return r.a.createElement(e,c);var l=a.pathname.split("/").pop(),s=r.a.useState(null),u=Object(N.a)(s,2),m=u[0],d=u[1],f=r.a.useState(!0),h=Object(N.a)(f,2),v=h[0],p=h[1];return r.a.useEffect((function(){function e(){return(e=Object(B.a)(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.getWordInfo(l);case 2:t=e.sent,d(t),p(!1),t&&Object.keys(t).forEach((function(e){var a=t[e];a&&n({word:l,info:a,form:e})}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),r.a.createElement(e,Object.assign({wordInfo:m,loading:v},c))})))}(Object(g.a)(Object(f.e)(Object(C.b)((function(e){return e.search}),null)((function(e){var t=e.location,a=(e.history,e.wordInfo),n=e.loading,o=t.pathname.split("/").pop(),c=Object(G.range)(4).map((function(e){return r.a.createElement(De.a,null)})),i=r.a.createElement(F,{iconName:"search",title:"No German Words Found"});return r.a.createElement("div",{className:"SearchResultPageContainer"},r.a.createElement(Ae,{title:'Search Result for "'.concat(o,'"'),withBackButton:!0}),r.a.createElement("div",{className:"SearchResultMain"},n&&c,r.a.createElement("div",{className:"SearchResultList"},!n&&a?Object.keys(a).map((function(e){return function(e,t){return t?r.a.createElement("div",{className:"SearchResultFormRow"},r.a.createElement(v.a,{variant:"h2"},e),r.a.createElement(we,{className:"SearchResultCard",form:e,info:t,word:o})):null}(e,a[e])})):!n&&i)))}))))),_e=a(198),Ie=(a(127),a(128),r.a.createContext());var Me=Object(g.a)((function(e){var t=e.theme.palette,a=e.setHasAnswerRevealed,n=e.setReveal,o=e.className,c=Object(_.a)(e,["theme","setHasAnswerRevealed","setReveal","className"]);return r.a.createElement("div",Object.assign({className:o||"ExerciseMask",onClick:function(){n(!0),a(!0)},style:{backgroundColor:t.primary.main}},c))}));var Te=function(e){var t=e.children,a=Object(_.a)(e,["children"]),n=r.a.useState(!0),o=Object(N.a)(n,2),c=o[0],i=o[1];return c?t:r.a.createElement(Ie.Consumer,null,(function(e){var t=e.setHasAnswerRevealed;return r.a.createElement(Me,Object.assign({},a,{setHasAnswerRevealed:t,setReveal:i}))}))},Fe=(a(129),function(e){var t=e.iconName,a=e.title,n=e.onClick;return r.a.createElement("div",{className:"ActionSheetOption",onClick:n},r.a.createElement(h.a,null,t),r.a.createElement("div",{style:{width:16}}),r.a.createElement(v.a,{variant:"h2"},a))}),Ue=a(83),Ge=a.n(Ue),He=function(e){var t=e.children;return[r.a.createElement("div",{className:"WordDetailsRow GrammSectionWrapper"},r.a.createElement(v.a,{variant:"h3"},"Grammar")),r.a.createElement("div",{className:"WordDetailsRow"},r.a.createElement("div",{className:"GrammarSectionContainer"},t))]},ze=function(e){var t=e.keyName,a=e.value;e.setExerciseRefs;return r.a.createElement("div",{className:"GrammarSectionKeyValueRow"},r.a.createElement("div",{className:"GrammarSectionKeyValueColumn GrammarSectionKey"},r.a.createElement(v.a,{variant:"h4"},t)),r.a.createElement(Te,null,r.a.createElement("div",{className:"GrammarSectionKeyValueColumn"},r.a.createElement(v.a,{variant:"h3"},a))))},Ve=function(e){var t=e.info,a=(t.meaning,Object(_.a)(t,["meaning"])),n=e.form,o=Ge()(a),c=function(e){return e.split(".").pop().replace(/_/g," ")};return"Adverb"===n?null:r.a.createElement(He,null,Object.keys(o).map((function(e,t){return r.a.createElement(ze,{keyName:c(e),value:o[e]})})))};a(131);function Ke(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ye(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ke(a,!0).forEach((function(t){Object(U.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ke(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Je=Object(g.a)(Object(f.e)(function(e){return function(t){t.children;var a=Object(_.a)(t,["children"]),n=r.a.useState(!1),o=Object(N.a)(n,2),c=o[0],i=o[1],l=r.a.useState(null),s=Object(N.a)(l,2),u=s[0],m=s[1];return[r.a.createElement(e,Object.assign({},a,{setActionSheetComponents:m,open:c,setOpen:i})),r.a.createElement((function(){return r.a.createElement(_e.a,{anchor:"bottom",open:c,onClose:function(){return i(!1)}},r.a.createElement("div",{className:"ActionSheetContainer"},u))}),{open:c})]}}(Z(function(e){return function(t){var a=r.a.useState(!1),n=Object(N.a)(a,2),o=n[0],c=n[1],i=r.a.useState(!1),l=Object(N.a)(i,2),s=l[0],u=l[1],m=r.a.useState(!1),d=Object(N.a)(m,2),f=d[0],p=d[1],b=f?"undo":"edit",g=f?"Reset":"Test";return r.a.createElement(Ie.Provider,{value:{setHasAnswerRevealed:p}},r.a.createElement(e,Object.assign({},t,{setShowExerciseFab:c,revealAnswers:s,setRevealAnswers:u})),o&&r.a.createElement(x.a,{classes:{root:"ExerciseFab"},variant:"block",color:"primary",onClick:function(){u(!s),p(!1)}},r.a.createElement(h.a,null,b),r.a.createElement(xe,{horizontal:!0}),r.a.createElement(v.a,{variant:"h3"},g)))}}((function(e){var t,a=e.location,n=e.history,o=e.setActionSheetComponents,c=e.open,i=e.setOpen,l=e.getBookmark,s=e.bookmarks,u=e.newWordOrBookmark,m=e.addBookmark,d=e.removeBookmark,f=e.setShowExerciseFab,h=(e.exerciseRefs,e.setExerciseRefs,e.details,u(a.state)),p=h.word,b=h.form,g=h.info,E=h.searchCount,O=h.asExercise,y=void 0!==O&&O,k=r.a.createElement("div",{style:{height:8}});return r.a.useEffect((function(){y&&f(!0)}),[]),r.a.useEffect((function(){var e=(l({word:p,form:b})?[{iconName:"delete",title:"Remove Bookmark",onClick:function(){d({word:p,form:b}),i(!1)}}]:[{iconName:"library_add",title:"Add To Bookmark",onClick:function(){m({word:p,form:b,info:g}),i(!1)}},{iconName:"edit",title:"Edit Word",onClick:function(){n.push({pathname:"/edit",state:{adding:!1,info:Ye({word:p,form:b},g)}})}}]).map(Fe);o(e)}),[s,c]),r.a.createElement("div",{className:"WordDetailsContainer"},r.a.createElement(Ae,{leftButton:{name:"keyboard_arrow_left",onClick:n.goBack},rightButton:{name:l({word:p,form:b})?"bookmark":"bookmark_outlined",onClick:function(){return i(!c)}},title:p}),r.a.createElement("div",{className:"WordDetailsInnerContainer"},r.a.createElement("div",{className:"WordDetailsRow"},r.a.createElement("div",{className:"WordDetailsSumamryContainer"},r.a.createElement(v.a,{variant:"h2"},p),k,r.a.createElement(v.a,{variant:"h4"},b)),r.a.createElement("div",{className:"SearchCountContainer"},r.a.createElement(ke,{count:E}),k,r.a.createElement(v.a,{variant:"h5"},"Times Searched"))),r.a.createElement(Ve,{form:b,info:g}),r.a.createElement("div",{className:"WordDetailsRow"},(t="Meaning",r.a.createElement("div",{className:"WordDetailsSubtitleRow"},r.a.createElement(v.a,{variant:"h3"},t)))),r.a.createElement("div",{className:"WordDetailsRow"},r.a.createElement("ol",{className:"WordDetailsMeaningList"},g.meaning.map((function(e){return r.a.createElement("li",{className:"WordDetailsMeaningItem"},e.trim())}))))))}))))));a(132);var qe=Z(Object(f.e)((function(e){e.history;var t=e.bookmarks;return r.a.createElement("div",{className:"BookmarkPage"},r.a.createElement(Ae,{title:"Bookmarks"}),r.a.createElement("div",{className:"BookmarkPageInnerContainer"},!t.length&&r.a.createElement(F,{iconName:"bookmark",title:"You have no bookmarks"}),t.map((function(e){return r.a.createElement(we,e)}))))}))),Xe=a(188),Qe=function(e){var t=e.addMeaningItem,a=r.a.useState(!1),n=Object(N.a)(a,2),o=n[0],c=n[1],i=r.a.useState(""),l=Object(N.a)(i,2),s=l[0],u=l[1],m=function(e){u(e.target.value)},d=function(){t(s),u("")};r.a.useEffect((function(){var e=document.getElementById("addMeaningField");e&&e.focus()}),[s]);return o?r.a.createElement((function(){return r.a.createElement("div",{className:"EditBookmarkAddMeaningField"},r.a.createElement(W.a,{id:"addMeaningField",placeholder:"Some meanings about this word...",value:s,onChange:m,label:"Meaning"}),r.a.createElement("div",{className:"EditBookmarkMeaningListItemContainerAction"},r.a.createElement(Xe.a,{onClick:function(){return c(!1)}},"Cancel"),r.a.createElement(Xe.a,{color:"primary",disabled:!s,onClick:d},"Confirm")))}),null):r.a.createElement((function(){return r.a.createElement("div",{className:"EditBookmarkAddMeaning",onClick:function(){return c(!0)}},r.a.createElement(h.a,null,"add"),r.a.createElement(xe,{horizontal:!0}),r.a.createElement(v.a,{variant:"h3"},"Add Meaning..."))}),null)},$e=a(183),Ze=a(192),et=a(199),tt=a(189);var at=Object(g.a)((function(e){var t=e.meanings,a=void 0===t?[]:t,n=e.setMeanings,o=(Object(_.a)(e,["meanings","setMeanings"]).theme,r.a.useState(null)),c=Object(N.a)(o,2),i=c[0],l=c[1],s=r.a.useState(!1),u=Object(N.a)(s,2),m=(u[0],u[1]);return r.a.createElement("div",{className:"EditBookmarkMeaningList"},r.a.createElement($e.a,{dense:!1},a.map((function(e,t){return r.a.createElement(Ze.a,{expanded:t===i,onChange:function(){return l(i===t?null:t)},key:t},r.a.createElement(et.a,{classes:{root:"EditBookmarkMeaningListSummaryRoot",content:"EditBookmarkMeaningListSummaryContent"},expansionIcon:r.a.createElement(h.a,null,"expand_more")},r.a.createElement("div",{className:"EditBookmarkMeaningListItem"},r.a.createElement("div",{className:"EditBookmarkMeaningListItemIndex"},r.a.createElement(v.a,{variant:"h4"},t+1,".")),r.a.createElement("div",{className:"EditBookmarkMeaningListItemText"},r.a.createElement(v.a,{variant:"h4"},e)),r.a.createElement("div",{onClick:function(e){e.stopPropagation(),function(e){var t=Object(ne.a)(a);t.splice(e,1),n(t)}(t)},className:"EditBookmarkMeaningListItemRemove"},r.a.createElement(h.a,{style:{color:"red"}},"delete")))),r.a.createElement(tt.a,null,r.a.createElement("div",{className:"EditBookmarkMeaningListItemContainer"},r.a.createElement(W.a,{fullWidth:!0,id:"meaning-".concat(t),defaultValue:e}),r.a.createElement("div",{className:"EditBookmarkMeaningListItemContainerAction"},r.a.createElement(Xe.a,{onClick:function(){return l(null)}},"Cancel"),r.a.createElement(Xe.a,{color:"primary",onClick:function(){return function(e,t){var r=Object(ne.a)(a);r[e]=t,n(r),l(null)}(t,document.getElementById("meaning-".concat(t)).value)}},"Confirm")))))})),r.a.createElement(Qe,{addMeaningItem:function(e){n([].concat(Object(ne.a)(a),[e])),m(!1)}})))})),nt=a(181),rt=a(196),ot=a(191);a(133);function ct(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function it(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ct(a,!0).forEach((function(t){Object(U.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ct(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var lt=Object(f.e)(Z((function(e){var t,a=e.location,n=e.history,o=(e.bookmarks,e.getBookmark),c=e.addBookmark,i=a.state,l=i.adding,s=void 0!==l&&l,u=i.info,m=void 0===u?{meaning:[]}:u,d=r.a.useState(m),f=Object(N.a)(d,2),p=f[0],b=f[1],g=r.a.useState(!1),E=Object(N.a)(g,2),O=E[0],y=E[1];return r.a.useEffect((function(){var e=p.word,t=p.form;p.meaning;e&&!o(p)&&-1!==ee.indexOf(t)&&0!==p.meaning.length?y(!0):y(!1)}),[p]),r.a.createElement("div",{style:{height:8}}),r.a.createElement("div",{className:"EditBookmarkPage"},r.a.createElement(Ae,{leftButton:{name:"keyboard_arrow_left",onClick:function(){return n.goBack()}},title:"".concat(s?"Adding":"Editing"," Bookmark")}),r.a.createElement("div",{className:"EditBookmarkPageInner"},r.a.createElement("div",{className:"WordDetailsRow"},r.a.createElement("div",{className:"WordDetailsSumamryContainer"},r.a.createElement((function(e){var t=e.fieldName,a=e.label,n=e.className,o=Object(_.a)(e,["fieldName","label","className"]);return r.a.createElement(W.a,Object.assign({},o,{className:"EditBookmarkTextField ".concat(n||""),onBlur:function(e){return b(it({},p,Object(U.a)({},t,e.target.value)))},defaultValue:p[t],label:a}))}),{fieldName:"word",label:"word",style:{width:"80%"}}),r.a.createElement(xe,{horizontal:!1}),r.a.createElement("form",null,r.a.createElement(nt.a,{classes:{root:"EditBookmarkSelectFormControl"}},r.a.createElement(rt.a,{htmlFor:"formInput"},"Word Form"),r.a.createElement(ot.a,{inputProps:{id:"formInput"},placeholder:"Form",onChange:function(e){return b(it({},p,{form:e.target.value}))},value:p.form},ee.map((function(e){return r.a.createElement(L.a,{value:e},e)}))))))),r.a.createElement("div",{className:"WordDetailsRow"},(t="Meaning",r.a.createElement("div",{className:"WordDetailsSubtitleRow"},r.a.createElement(v.a,{variant:"h3"},t)))),r.a.createElement("div",{className:"WordDetailsRow"},r.a.createElement(at,{meanings:p.meaning,setMeanings:function(e){return b(it({},p,{meaning:e}))}})),r.a.createElement("div",{className:"WordDetailsRow"},r.a.createElement(x.a,{disabled:!O,variant:"extended",color:"primary",onClick:function(){var e=p.word,t=p.form,a=Object(_.a)(p,["word","form"]);c({word:e,form:t,info:a}),n.goBack()},className:"EditBookmarkPageSubmitButton"},r.a.createElement(h.a,null,"bookmark"),r.a.createElement(xe,{horizontal:!0}),r.a.createElement(v.a,{variant:"h3"},"Add Bookmark")))))})));var st=Object(g.a)((function(e){var t=e.photo,a=e.boxAndWords,n=e.onBoxChosen,o=(e.theme,r.a.useState(null)),c=Object(N.a)(o,2),i=(c[0],c[1]),l=function(e,t,a){var n=e[0]*t,r=e[1]*a;return[n,r,e[2]*t+n,e[3]*a+r]},s=function(e,t,a){e.beginPath(),e.lineWidth="1",e.strokeStyle=a,e.rect.apply(e,Object(ne.a)(t)),e.stroke()},u=function(e,t){var n=e.x,r=e.y,o=t.rX,c=t.rY;return a.find((function(e){var t=e.box,a=(e.word,l(t,o,c)),i=Object(N.a)(a,4),s=i[0],u=i[1],m=i[2],d=i[3];return s<=n&&n<=m&&u<=r&&r<=d}))},m=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t.clearRect(0,0,e.width,e.height);var o=e.height/n.height,c=e.width/n.width;t.drawImage(n,0,0,n.width,n.height,0,0,e.width,e.height),a.forEach((function(e){var a=e.box,n=(e.word,l(a,c,o)),i="red";if(r){var u=l(r.box,c,o);u[0]==n[0]&&u[1]==n[1]&&(i="blue")}s(t,[n[0],n[1],n[2]-n[0],n[3]-n[1]],i)}))};return r.a.useEffect((function(){var e=document.getElementById("OCRResult");if(e){var a=e.getContext("2d"),r=new Image;r.onload=function(){e.height=.5*window.innerHeight,e.width=e.height*r.width/r.height;var t=e.height/r.height,o=e.width/r.width;m(e,a,r),e.addEventListener("mouseup",function(){var c=Object(B.a)(P.a.mark((function c(l){var s,d,f,h;return P.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return s=e.getBoundingClientRect(),d=l.clientX-s.left,f=l.clientY-s.top,h=u({x:d,y:f},{rX:o,rY:t}),c.next=6,i(h);case 6:m(e,a,r,h),n&&n(h);case 8:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}())},r.src=t}}),[a,t]),r.a.createElement("div",{className:"OCRSelectWordPagePhotoWithBoxesWrapper"},r.a.createElement("canvas",{id:"OCRResult",className:"OCRResultCanvas"}))}));a(134);var ut=Object(f.e)(be((function(e){var t=e.word,a=e.suggestionState,n=e.serverURL,o=e.history,c=r.a.useState(null),i=Object(N.a)(c,2),l=i[0],s=i[1],u=r.a.useState(!0),m=Object(N.a)(u,2),d=m[0],f=m[1];r.a.useEffect((function(){(function(){var e=Object(B.a)(P.a.mark((function e(){var a,r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(!0);case 2:return e.next=4,fetch("".concat(n,"/closest/").concat(t));case 4:return a=e.sent,e.next=7,a.json();case 7:return r=e.sent,e.next=10,f(!1);case 10:return e.next=12,s(r.suggestions);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]);var p=function(e){var t=e.word;return r.a.createElement("div",{className:"OCRSuggestionRow",onClick:function(){return o.push({pathname:"/search/".concat(t),state:a})}},r.a.createElement(v.a,{variant:"h4"},t),r.a.createElement(h.a,null,"keyboard_arrow_right"))};return r.a.createElement("div",{className:"OCRSuggestions"},r.a.createElement("div",{className:"OCRSuggestionsHeaderRow"},r.a.createElement(v.a,{variant:"h2"},'"',t,'"')),r.a.createElement("div",{className:"OCRSuggestionsInner"},d&&r.a.createElement("div",{className:"OCRSuggestionsLoadingComponent"},r.a.createElement(Be.a,{color:"primary"}),r.a.createElement(xe,{size:16}),r.a.createElement(v.a,{variant:"h3"},"Looking up similar words...")),l&&l.length>0&&!d&&l.map((function(e){return r.a.createElement(p,{word:e})}))))})));a(135);var mt=Object(f.e)(Object(g.a)((function(e){e.history;var t=e.location,a=(e.theme,r.a.useState(null)),n=Object(N.a)(a,2),o=n[0],c=n[1],i=t.state,l=(i=void 0===i?{}:i).boxAndWords,s=i.photo;return r.a.createElement("div",{className:"OCRSelectWordPage"},r.a.createElement(Ae,{title:"Choose words to add",withBackButton:!0}),r.a.createElement("div",{className:"OCRSelectWordPageInner"},r.a.createElement(st,{photo:s,boxAndWords:l,onBoxChosen:c}),r.a.createElement("div",{className:"OCRSelectWordBoxPreviewContainer"},o?r.a.createElement(ut,{suggestionState:t.state,word:o&&o.word}):r.a.createElement(F,{iconName:"edit",title:"Click boxes above to see closest match of this word"}))))})));a(136);function dt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ft(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?dt(a,!0).forEach((function(t){Object(U.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):dt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ht=Object(g.a)(be(Re((function(e){var t=e.theme,a=e.serverURL,n=e.proxyURL,o=e.setOpenSnackbar,c=e.setSnackbarConfig,i=e.setConfig,l=r.a.useState({serverURL:a,proxyURL:n}),s=Object(N.a)(l,2),u=s[0],m=s[1],d=r.a.useState(!1),f=Object(N.a)(d,2),p=f[0],b=f[1],g=function(){var e=Object(B.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(u);case 2:return e.next=4,c({title:"The new config has been saved",icon:"check",style:{color:"white",display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",backgroundColor:t.palette.warning.main},anchorOrigin:{vertical:"bottom",horizontal:"left"}});case 4:o(!0),setTimeout((function(){return o(!1)}),2e3);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.useEffect((function(){b(function(){var e=u.serverURL,t=u.proxyURL;return!!(e.startsWith("http")&&t.startsWith("http")&&e&&t)}())}),[u]),r.a.createElement("div",{className:"ConfigPage"},r.a.createElement(Ae,{title:"Settings"}),r.a.createElement("div",{className:"ConfigPageInner"},r.a.createElement(W.a,{label:"Proxy URL",onChange:function(e){return m(ft({},u,{proxyURL:e.target.value}))||e.target.focus()},value:u.proxyURL,placeholder:"Address of the Proxy Server"}),r.a.createElement(xe,{size:16}),r.a.createElement(W.a,{label:"OCR Server URL",onChange:function(e){return m(ft({},u,{serverURL:e.target.value}))||e.target.focus()},value:u.serverURL,placeholder:"Address of the OCR Server"}),r.a.createElement("div",{style:{flex:1}}),r.a.createElement(x.a,{variant:"extended",color:"primary",disabled:!p,onClick:g},r.a.createElement(h.a,null,"save"),r.a.createElement(xe,{horizontal:!0}),r.a.createElement(v.a,{variant:"h3"},"Save Settings")),r.a.createElement(xe,{size:16})))}))));a(137);var vt=Object(g.a)(Object(f.e)((function(e){return e.theme,e.history,r.a.createElement("div",{className:"ActivityPage"},r.a.createElement(Ae,{title:"Activity"}),r.a.createElement("div",{className:"ActivityPageInner"},r.a.createElement(F,{title:"Coming soon!",iconName:"bar_chart_outlined"})))}))),pt=a(84),bt=a(32),gt=a(71),Et=a(85),Ot=a.n(Et),yt=Object(bt.b)({search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case me.ADD_SEARCH:var a=t.search,n=a.word,r=a.form,o=([].concat(Object(ne.a)(e.rawSearches),[ue({},t.search,{date:new Date})]),e.searches.filter((function(e){return e.word===n&&e.form===r})));return 0===o.length?ue({},e,{searches:e.searches.concat(ue({},t.search,{searchCount:1}))}):ue({},e,{searches:[].concat(Object(ne.a)(e.searches.filter((function(e){return e.word!==n||e.form!==r}))),[ue({},t.search,{searchCount:o[0].searchCount+1})])});case me.CLEAR_SEARCH:return ue({},e,{searches:[]});default:return e}},bookmark:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0,a=t.word;switch(t.type){case V:return q(e.bookmarks,a).found?e:z({},e,{bookmarks:e.bookmarks.concat(a)});case K:var n=q(e.bookmarks,a),r=n.found,o=n.bookmarks;return r?z({},e,{bookmarks:o}):e;default:return e}},config:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ve.SET_CONFIG:t.type;var a=Object(_.a)(t,["type"]);return he({},e,{},a);default:return e}}}),kt={key:"root",storage:Ot.a},wt=Object(gt.a)(kt,yt),jt=function(){var e=Object(bt.c)(wt);return{store:e,persistor:Object(gt.b)(e)}}(),St=jt.store,Ct=jt.persistor,Nt=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(S.a,{theme:j},r.a.createElement(C.a,{store:St},r.a.createElement(d.a,{basename:"/GermanHelper-v2"},r.a.createElement(pt.a,{loading:null,persistor:Ct},r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"MainContent"},r.a.createElement(f.a,{path:"/search",component:Le}),r.a.createElement(f.a,{path:"/wordDetails",component:Je}),r.a.createElement(f.a,{path:"/words",component:qe}),r.a.createElement(f.a,{path:"/edit",component:lt}),r.a.createElement(f.a,{path:"/ocr",component:mt}),r.a.createElement(f.a,{path:"/settings",component:ht}),r.a.createElement(f.a,{path:"/activity",component:vt}),r.a.createElement(f.a,{exact:!0,path:"/",component:We})),r.a.createElement(k,null),r.a.createElement(O,null))))))}}]),t}(r.a.Component),xt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Rt(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(r.a.createElement(Nt,null),document.getElementById("root")),window.addEventListener("load",(function(){setTimeout((function(){window.scrollTo(0,1)}),0)})),function(e){if("serviceWorker"in navigator){if(new URL("https://travistang.github.io/GermanHelper-v2",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("https://travistang.github.io/GermanHelper-v2","/service-worker.js");xt?(!function(e,t){fetch(e).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Rt(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Rt(t,e)}))}}()},98:function(e,t,a){e.exports=a(140)}},[[98,1,2]]]);
//# sourceMappingURL=main.93680674.chunk.js.map